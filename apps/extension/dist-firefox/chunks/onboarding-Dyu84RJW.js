const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/DevMenuScreen-CNhqDNmv.js","chunks/useTestnetModeForLoggingAndAnalytics-DpJrxT3v.js","chunks/preload-helper-DY04TWhi.js","assets/useTestnetModeForLoggingAndAnalytics-Cu0m0CCQ.css","chunks/useNavigateToNftExplorerLink-CAXh3jle.js","chunks/WalletUniswapContext-DTnwDGKn.js","chunks/useAppInsets-jaBNt2xB.js"])))=>i.map(i=>d[i]);
import{_ as Xs}from"./preload-helper-DY04TWhi.js";import{M as F,p as hn,o as S,q as J,s as wn,t as b,c as Mt,j as r,S as _t,P as re,u as Q,v as fe,r as E,w as Z,x as V,T as te,y as ae,z as G,F as T,g as q,h as _,A as Y,G as Sn,H as ei,J as ti,K as ts,N as ns,O as Dn,Q as Mn,I as nn,U as rs,l as Qe,V as je,W as ss,X as Je,Y as ni,Z as L,_ as is,$ as as,a0 as ri,a1 as os,a2 as _n,a3 as si,a4 as ii,a5 as ai,a6 as oi,a7 as ee,a8 as li,a9 as ls,aa as ci,ab as ui,ac as di,ad as mi,ae as Ln,af as an,ag as ie,ah as cs,ai as fi,aj as us,ak as Jn,al as ds,am as gi,an as pi,ao as hi,ap as ms,aq as wi,ar as Si,as as bi,at as Ei,au as fs,av as ue,aw as gs,ax as ps,ay as yr,az as Bn,aA as Ti,aB as Hn,f as Ii,aC as Ci,aD as xi,e as yi,aE as vi,aF as Pi,aG as Oi,aH as de,aI as Zt,aJ as Qt,aK as kt,aL as bn,aM as Wt,aN as Ai,aO as hs,aP as ws,aQ as Ri,aR as ki,b as Ni,E as Di,aS as Mi,aT as _i,B as Li,d as Bi,R as $i,i as ji,aU as Ui,n as Fi,aV as Ji}from"./useTestnetModeForLoggingAndAnalytics-DpJrxT3v.js";import{t as Ss,b as Hi,u as qi,S as Wi,a as Gi,c as Ki,P as vr,d as zi,L as Vi,i as $n,R as bs,F as Es,e as Yi,f as Zi,I as Qi,U as Xi,v as ea,C as ta,g as na,W as Ts,A as ra,h as Is,j as sa,q as Cs,k as ia,T as Xt,l as aa,m as oa,n as xs,o as ys,p as la,r as ca,w as ua,s as da,x as ma,y as fa,z as ga,O as pa,B as ha,D as wa,E as Sa,G as ba}from"./WalletUniswapContext-DTnwDGKn.js";import{u as oe,O as Ue,C as Ea,a as Ta,T as Ia,b as Ze,c as En,S as Ca,I as We,d as Pr,R as Gt,e as tt}from"./Terms-B09VeF1b.js";import{S as qe,P as xa,O as vs,f as ya,R as va,g as Pa,L as Oa,T as Lt,I as Ps,c as Or,b as Aa,X as Ra,o as ka,A as Kt,F as Ar,a as Na,d as Da,U as Ma,E as Rr,e as _a,u as La,h as Ba,i as $a,j as ja,k as Ua,l as Fa,m as Ja,n as Ha,M as qa,r as Os,p as Wa}from"./useNavigateToNftExplorerLink-CAXh3jle.js";function Ga({rpcClient:n}){async function e({type:m,action:l,options:p}){return await n.challenge({type:m,action:l,options:p})}async function t({type:m,action:l,b64EncryptionPublicKey:p}){return await n.securedChallenge({type:m,action:l,b64EncryptionPublicKey:p})}async function s({credential:m}){return await n.createWallet({credential:m})}async function i({credential:m}){return await n.walletSignin({credential:m})}async function a({messages:m,credential:l}){return await n.signMessages({messages:m,credential:l})}async function c({transactions:m,credential:l}){return await n.signTransactions({transactions:m,credential:l})}async function f({typedDataBatch:m,credential:l}){return await n.signTypedDataBatch({typedDataBatch:m,credential:l})}async function o({encryptionKey:m,credential:l}){return await n.exportSeedPhrase({credential:l,b64EncryptionPublicKey:m})}async function u(){return await n.disconnectWallet({})}async function h({credential:m}){return await n.listAuthenticators({credential:m})}async function g({newCredential:m,newAuthenticationType:l,existingCredential:p,existingAuthenticationType:w}){return await n.registerNewAuthenticator({newCredential:m,newAuthenticationType:l,existingCredential:p,existingAuthenticationType:w})}async function d({credential:m,authenticationType:l,authenticatorId:p,authenticatorType:w}){return await n.deleteAuthenticator({credential:m,type:l,authenticatorId:p,authenticatorType:w})}return{fetchChallengeRequest:e,fetchSecuredChallengeRequest:t,fetchCreateWalletRequest:s,fetchWalletSigninRequest:i,fetchSignMessagesRequest:a,fetchSignTransactionsRequest:c,fetchSignTypedDataRequest:f,fetchExportSeedPhraseRequest:o,fetchDisconnectRequest:u,fetchListAuthenticatorsRequest:h,fetchRegisterNewAuthenticatorRequest:g,fetchDeleteAuthenticatorRequest:d}}let on=class Ge extends F{constructor(e){super(),this.seconds=hn.zero,this.nanos=0,S.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${S.json.debug(e)}`);const s=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!s)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(s[1]+"-"+s[2]+"-"+s[3]+"T"+s[4]+":"+s[5]+":"+s[6]+(s[8]?s[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=hn.parse(i/1e3),this.nanos=0,s[7]&&(this.nanos=parseInt("1"+s[7]+"0".repeat(9-s[7].length))-1e9),this}toJson(e){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let s="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?s="."+i.substring(0,3)+"Z":i.substring(6)==="000"?s="."+i.substring(0,6)+"Z":s="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",s)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Ge.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new Ge({seconds:hn.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new Ge().fromBinary(e,t)}static fromJson(e,t){return new Ge().fromJson(e,t)}static fromJsonString(e,t){return new Ge().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Ge,e,t)}};on.runtime=S;on.typeName="google.protobuf.Timestamp";on.fields=S.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class se extends J{constructor(e){super(),this.seconds=wn.zero,this.nanos=0,b.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${b.json.debug(e)}`);const s=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!s)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(s[1]+"-"+s[2]+"-"+s[3]+"T"+s[4]+":"+s[5]+":"+s[6]+(s[8]?s[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=wn.parse(i/1e3),this.nanos=0,s[7]&&(this.nanos=parseInt("1"+s[7]+"0".repeat(9-s[7].length))-1e9),this}toJson(e){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let s="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?s="."+i.substring(0,3)+"Z":i.substring(6)==="000"?s="."+i.substring(0,6)+"Z":s="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",s)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return se.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new se({seconds:wn.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new se().fromBinary(e,t)}static fromJson(e,t){return new se().fromJson(e,t)}static fromJsonString(e,t){return new se().fromJsonString(e,t)}static equals(e,t){return b.util.equals(se,e,t)}}se.runtime=b;se.typeName="google.protobuf.Timestamp";se.fields=b.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const[Ka]=Mt({name:"GraduationCap",getIcon:n=>r.jsx(_t,{viewBox:"0 0 20 20",fill:"none",...n,children:r.jsx(re,{d:"M15 12.0158V13.9166C15 14.4949 14.6941 15.0291 14.2049 15.3383C11.4016 17.1091 8.59738 17.1091 5.79405 15.3383C5.30488 15.03 4.99917 14.4949 4.99917 13.9166V12.0158C4.99917 11.9524 5.06662 11.9125 5.12246 11.9425L8.18256 13.6166C8.73256 13.9166 9.36583 14.075 9.99917 14.075C10.6325 14.075 11.2658 13.9166 11.8158 13.6166L14.8759 11.9425C14.9325 11.9117 15 11.9524 15 12.0158ZM16.6142 6.5875L11.2217 3.64499C10.4609 3.22999 9.54074 3.22999 8.77907 3.64499L3.38662 6.5875C2.20495 7.23166 2.20495 8.92833 3.38662 9.57333L8.77907 12.5158C9.53991 12.9308 10.46 12.9308 11.2217 12.5158L16.6142 9.57333L16.0416 9.88583V13.3333C16.0416 13.6783 16.3216 13.9583 16.6666 13.9583C17.0116 13.9583 17.2916 13.6783 17.2916 13.3333V8.89249C17.7116 8.11582 17.4883 7.06416 16.6142 6.5875Z",fill:"currentColor"})})}),[As]=Mt({name:"Mobile",getIcon:n=>r.jsx(_t,{viewBox:"0 0 43 43",fill:"none",...n,children:r.jsx(re,{d:"M28.3632 6.11328H14.3633C10.8633 6.11328 9.11328 7.86327 9.11328 11.3633V32.3632C9.11328 35.8632 10.8633 37.6132 14.3633 37.6132H28.3632C31.8632 37.6132 33.6132 35.8632 33.6132 32.3632V11.3633C33.6132 7.86327 31.8632 6.11328 28.3632 6.11328ZM21.3632 34.1132C20.3972 34.1132 19.6132 33.3292 19.6132 32.3632C19.6132 31.3972 20.3972 30.6132 21.3632 30.6132C22.3292 30.6132 23.1132 31.3972 23.1132 32.3632C23.1132 33.3292 22.3292 34.1132 21.3632 34.1132ZM23.9882 12.6758H18.7382C18.0137 12.6758 17.4257 12.0878 17.4257 11.3633C17.4257 10.6388 18.0137 10.0508 18.7382 10.0508H23.9882C24.7127 10.0508 25.3007 10.6388 25.3007 11.3633C25.3007 12.0878 24.7127 12.6758 23.9882 12.6758Z",fill:"currentColor"})})}),[za]=Mt({name:"PapersText",getIcon:n=>r.jsx(_t,{viewBox:"0 0 20 20",fill:"none",...n,children:r.jsx(re,{d:"M13.2601 18.3918C12.9161 18.5558 12.5141 18.6779 12.0591 18.7599L5.48907 19.9099C3.29907 20.2999 2.00896 19.3999 1.62896 17.2099L0.0891657 8.45987C-0.300834 6.26987 0.599117 4.97988 2.78912 4.58988L4.58697 4.27384C4.79197 4.23784 4.97114 4.41686 4.93414 4.62186L3.75811 11.2799C3.22811 14.3099 4.65803 16.3499 7.67803 16.8799C7.67803 16.8799 12.8971 17.7969 13.1661 17.8489C13.4981 17.9088 13.5511 18.2628 13.2601 18.3918ZM19.9131 5.10587L18.3689 13.8598C17.997 15.9678 16.7811 16.8688 14.7361 16.5888C14.6581 16.5778 14.5881 16.5779 14.5071 16.5639L7.94195 15.4059C5.75295 15.0199 4.85209 13.7329 5.23809 11.5439L6.58111 3.92783L6.78204 2.78983C7.16804 0.600828 8.4551 -0.300151 10.6441 0.0858488L17.21 1.24387C19.398 1.62987 20.2991 2.91787 19.9131 5.10587ZM13.554 11.8958C13.626 11.4878 13.3541 11.0988 12.9461 11.0268L8.8421 10.3028C8.4361 10.2298 8.04518 10.5039 7.97418 10.9109C7.90218 11.3189 8.17409 11.7079 8.58209 11.7799L12.6861 12.5039C12.7301 12.5119 12.7739 12.5149 12.8169 12.5149C13.1739 12.5159 13.49 12.2598 13.554 11.8958ZM16.597 9.03482C16.669 8.62682 16.3971 8.23787 15.9891 8.16587L9.42413 7.00785C9.02013 6.93685 8.62696 7.20888 8.55596 7.61588C8.48396 8.02388 8.75612 8.41284 9.16412 8.48484L15.7291 9.64286C15.7731 9.65086 15.8172 9.65384 15.8602 9.65384C16.2172 9.65384 16.533 9.39782 16.597 9.03482ZM17.2972 5.77286C17.3692 5.36486 17.097 4.97584 16.689 4.90384L10.1241 3.74582C9.72008 3.67382 9.32716 3.94685 9.25616 4.35385C9.18416 4.76185 9.45607 5.15087 9.86407 5.22287L16.429 6.38083C16.473 6.38883 16.5171 6.39188 16.5601 6.39188C16.9171 6.39288 17.2332 6.13686 17.2972 5.77286Z",fill:"currentColor"})}),defaultFill:"#F5F6FC"}),[Va]=Mt({name:"QrCode",getIcon:n=>r.jsxs(_t,{viewBox:"0 0 24 24",fill:"none",...n,children:[r.jsx(re,{d:"M9 2H3C2.44772 2 2 2.44772 2 3V9C2 9.55228 2.44772 10 3 10H9C9.55228 10 10 9.55228 10 9V3C10 2.44772 9.55228 2 9 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M9 13.9999H3C2.44772 13.9999 2 14.4476 2 14.9999V20.9999C2 21.5522 2.44772 21.9999 3 21.9999H9C9.55228 21.9999 10 21.5522 10 20.9999V14.9999C10 14.4476 9.55228 13.9999 9 13.9999Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M21 2H15C14.4477 2 14 2.44772 14 3V9C14 9.55228 14.4477 10 15 10H21C21.5523 10 22 9.55228 22 9V3C22 2.44772 21.5523 2 21 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M14 13.9999V17.9999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M14 21.9999H18V13.9999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M18 16H22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx(re,{d:"M22 20.0001V22.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),[Ya]=Mt({name:"ScanQr",getIcon:n=>r.jsx(_t,{viewBox:"0 0 22 22",fill:"none",...n,children:r.jsx(re,{d:"M6.92609 1.83331H3.87053C3.33028 1.83331 2.81215 2.04793 2.43013 2.42995C2.04811 2.81197 1.8335 3.33009 1.8335 3.87035V6.92591M20.1668 6.92591V3.87035C20.1668 3.33009 19.9522 2.81197 19.5702 2.42995C19.1882 2.04793 18.67 1.83331 18.1298 1.83331H15.0742M15.0742 20.1666H18.1298C18.67 20.1666 19.1882 19.952 19.5702 19.57C19.9522 19.188 20.1668 18.6699 20.1668 18.1296V15.0741M1.8335 15.0741V18.1296C1.8335 18.6699 2.04811 19.188 2.43013 19.57C2.81215 19.952 3.33028 20.1666 3.87053 20.1666H6.92609M12.1829 12.1827V14.5483M12.1829 16.9139H14.5484V12.1827M14.5482 13.3654H16.9138M16.914 15.7311V16.9139M5.67739 5.08581H9.22578C9.5524 5.08581 9.81717 5.35059 9.81717 5.67721V9.22559C9.81717 9.55221 9.5524 9.81699 9.22578 9.81699H5.67739C5.35077 9.81699 5.08599 9.55221 5.08599 9.22559V5.67721C5.08599 5.35059 5.35077 5.08581 5.67739 5.08581ZM5.67739 12.1827H9.22578C9.5524 12.1827 9.81717 12.4475 9.81717 12.7741V16.3225C9.81717 16.6491 9.5524 16.9139 9.22578 16.9139H5.67739C5.35077 16.9139 5.08599 16.6491 5.08599 16.3225V12.7741C5.08599 12.4475 5.35077 12.1827 5.67739 12.1827ZM12.7743 5.08581H16.3226C16.6493 5.08581 16.914 5.35059 16.914 5.67721V9.22559C16.914 9.55221 16.6493 9.81699 16.3226 9.81699H12.7743C12.4476 9.81699 12.1829 9.55221 12.1829 9.22559V5.67721C12.1829 5.35059 12.4476 5.08581 12.7743 5.08581Z",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round"})})});function Za(){const{t:n}=Q(),{goToNextStep:e}=oe(),{resetOnboardingContextData:t,getOnboardingAccountAddress:s,addUnitagClaim:i}=fe(),a=s(),c=E.useCallback(o=>{i({username:o}),e()},[e,i]),f=E.useCallback(()=>{t(),Z(`/${V.Onboarding}`,{replace:!0})},[t]);return r.jsx(te,{logImpression:!0,properties:{flow:G.New},screen:ae.ClaimUnitag,children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",size:q.icon48,children:r.jsx(xa,{color:"$neutral1",size:"$icon.24"})}),subtitle:n("unitags.onboarding.claim.subtitle"),title:n("unitags.onboarding.claim.title.choose"),onBack:f,onSkip:e,children:r.jsx(T,{gap:"$spacing16",pt:"$spacing24",width:"100%",children:r.jsx(Ea,{animateY:!1,entryPoint:G.New,unitagAddress:a,onComplete:c})})})})}function Qa({children:n}){return r.jsx(T,{backgroundColor:"$surface1",borderColor:"$surface3",borderRadius:"$rounded32",borderWidth:"$spacing1",pb:"$spacing24",pt:"$spacing48",px:"$spacing24",shadowColor:"$shadowColor",shadowOpacity:.1,shadowRadius:16,width:vs,children:n})}const kr={width:0,height:7},Xa="âŒ˜",eo=70;function to({title:n,px:e,fontSize:t,state:s}){return r.jsx(T,{alignItems:"center",backgroundColor:"$surface1",borderColor:s===0?"$surface3":"$accent2Hovered",borderRadius:"$rounded20",borderWidth:"$spacing2",height:eo,justifyContent:"center",px:e,shadowColor:s===0?"$neutral3":"$accent1Hovered",shadowOffset:s===1?void 0:kr,shadowRadius:s===1?"$spacing16":void 0,top:s===1?kr.height:void 0,children:r.jsx(_,{color:s===0?"$neutral2":"$accent1",fontSize:t,children:n==="Meta"?Xa:n})})}function Rs({callback:n,extensionOnboardingFlow:e,skip:t}){const{finishOnboarding:s,getOnboardingOrImportedAccount:i,getOnboardingAccountAddress:a}=fe(),c=no(a(),e),f=E.useRef(!1);E.useEffect(()=>{if(t||f.current)return;(async()=>{f.current=!0,await s({importType:c,extensionOnboardingFlow:e});const u=i();u&&await ei({dappUrl:ti,account:u}),n==null||n()})().catch(u=>{Y.error(u,{tags:{file:"useFinishExtensionOnboarding.ts",function:"finishOnboarding"}})})},[s,c,n,e,t,i])}function no(n,e){return e===G.Passkey?Sn.Passkey:n?Sn.CreateNew:Sn.RestoreMnemonic}function ro(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)}const Nr=28,Dr=41,so=n=>{const e=(i,a)=>{switch(a.type){case"keyDown":return i.map(c=>c.title.toLowerCase()===a.key?{...c,state:1}:c);case"keyUp":return i.map(c=>c.title.toLowerCase()===a.key||a.key==="meta"&&c.title.length===1?{...c,state:n?2:0}:c);case"highlight":return i.map(c=>({...c,state:2}))}},[t,s]=E.useReducer(e,[{fontSize:Nr,px:"$spacing28",title:"Shift",state:0},ro()?{fontSize:Dr,px:"$spacing16",title:"Meta",state:0}:{fontSize:Nr,px:"$spacing12",title:"Ctrl",state:0},{fontSize:Dr,px:"$spacing24",title:"U",state:0}]);return E.useEffect(()=>{n&&s({type:"highlight"})},[n]),E.useEffect(()=>{const i=c=>s({type:"keyDown",key:c.key.toLowerCase()}),a=c=>s({type:"keyUp",key:c.key.toLowerCase()});return window.addEventListener("keydown",i),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",a)}},[]),t};async function io(n,e){let t=!1;try{n!==void 0?await chrome.sidePanel.open({tabId:n}):await chrome.sidePanel.open({windowId:e})}catch(s){await ya(n,e),t=!0,Y.error(s,{tags:{file:"background/background.ts",function:"openSidebar"}})}finally{ts(ns.BackgroundAttemptedToOpenSidebar,{hasError:t})}}function Rt({flow:n,tryToClaimUnitag:e}){const{t}=Q(),{getOnboardingAccountAddress:s,addUnitagClaim:i,getUnitagClaim:a}=fe(),c=s(),f=a(),[o,u]=E.useState(!1),[h,g]=E.useState(!1);E.useEffect(()=>{!e||!c||o||(u(!0),f!=null&&f.username&&i({address:c,username:f.username}))},[f,c,e,o,i]),Rs({callback:Ss,extensionOnboardingFlow:n,skip:e&&!o}),E.useEffect(()=>{const p=Dn.addMessageListener(Mn.SidebarOpened,w=>{g(!0)});return()=>{Dn.removeMessageListener(Mn.SidebarOpened,p)}},[]);const d=async()=>{window.location.href=je.webInterfaceSwapUrl},m=async()=>{try{const{tabId:p,windowId:w}=await Pa();await io(p,w)}catch(p){Y.error(p,{tags:{file:"onboarding/Complete.tsx",function:"handleOpenSidebar"}})}},l=so(h);return r.jsx(Qa,{children:r.jsx(T,{alignItems:"center",children:r.jsxs(T,{alignItems:"center",gap:"$spacing24",justifyContent:"center",children:[r.jsxs(T,{alignItems:"center",gap:"$spacing12",justifyContent:"center",children:[r.jsx(nn,{height:q.icon64,source:rs,width:q.icon64}),r.jsx(_,{color:"$neutral1",variant:"heading3",children:t("onboarding.complete.title")}),r.jsx(_,{color:"$neutral2",px:"$spacing36",textAlign:"center",variant:"body3",children:t("onboarding.complete.description")})]}),r.jsx(T,{row:!0,alignItems:"center",gap:"$spacing20",justifyContent:"space-between",mb:"$spacing48",mt:"$spacing24",children:l.map(p=>r.jsx(to,{fontSize:p.fontSize,px:p.px,state:p.state,title:p.title},p.title))}),r.jsx(T,{row:!0,alignSelf:"stretch",children:r.jsx(Qe,{icon:h?r.jsx(va,{}):void 0,iconPosition:"after",size:"large",variant:h?"branded":"default",emphasis:h?"primary":"secondary",onPress:h?d:m,children:t(h?"onboarding.complete.go_to_uniswap":"onboarding.complete.button")})})]})})})}function ao({flow:n,password:e,onBack:t,onNext:s}){const{t:i}=Q(),[a,c]=E.useState(!0),{data:f,isLoading:o}=ss(Hi({t:i}));E.useEffect(()=>{!o&&!(f!=null&&f.hasBuiltInBiometricSensor)&&(Y.error(new Error("Invalid render of `BiometricUnlockSetUp` when no built in biometric sensor found"),{tags:{file:"BiometricUnlockSetUp.tsx",function:"BiometricUnlockSetUp"}}),s())},[o,f==null?void 0:f.hasBuiltInBiometricSensor,s]);const{mutate:u}=qi({onSuccess:s,onError:()=>c(!1)}),h=Je(()=>{if(!a){s();return}u(e)}),g=f!=null&&f.hasBuiltInBiometricSensor?r.jsx(f.icon,{color:"$neutral1",size:"$icon.24"}):null;return r.jsx(te,{logImpression:!0,properties:{flow:n},screen:ae.SetUpBiometricUnlock,children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",size:q.icon48,children:g}),nextButtonEnabled:!0,nextButtonText:i("common.button.continue"),subtitle:i("onboarding.extension.biometrics.subtitle.fingerprint"),title:f?i("onboarding.extension.biometrics.title",{biometricsMethod:f.name}):void 0,onBack:t,onSubmit:h,children:f?r.jsx(T,{gap:"$spacing16",py:"$spacing24",width:"100%",children:r.jsx(Wi,{Icon:f.icon,title:i("onboarding.extension.biometrics.title",{biometricsMethod:f.name}),checked:a,onCheckedChange:c})}):r.jsx(Oa.Box,{})})})}function ks({flow:n,onComplete:e,onBack:t}){const{resetOnboardingContextData:s}=fe(),[i,a]=E.useState(null),c=Gi({flow:"onboarding"}),f=Je(async g=>{c?a(g):await e(g)}),o=Je(()=>{s(),t?t():Z(`/${V.Onboarding}`,{replace:!0})}),u=Je(async()=>{if(!i)throw new Error("Missing password when calling `onBiometricsNext`");await e(i)}),h=Je(()=>{a(null)});return i?r.jsx(ao,{flow:n,password:i,onNext:u,onBack:h}):r.jsx(oo,{flow:n,onNext:f,onBack:o})}function oo({flow:n,onNext:e,onBack:t}){const{t:s}=Q(),{isResetting:i}=oe(),{enableNext:a,hideInput:c,debouncedPasswordStrength:f,password:o,onPasswordBlur:u,onChangePassword:h,confirmPassword:g,onChangeConfirmPassword:d,setHideInput:m,errorText:l,checkSubmit:p}=Ki(),w=Je(async()=>{a&&p()&&e(o)});return r.jsx(te,{logImpression:!0,properties:{flow:n},screen:ae.SetPassword,children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",size:q.icon48,children:r.jsx(Vi,{color:"$neutral1",size:"$icon.24"})}),nextButtonEnabled:a,nextButtonText:s("common.button.continue"),subtitle:s("onboarding.extension.password.subtitle"),title:s(i?"onboarding.extension.password.title.reset":"onboarding.extension.password.title.default"),onBack:t,onSubmit:w,children:r.jsxs(T,{gap:"$spacing16",py:"$spacing24",width:"100%",children:[r.jsx(vr,{autoFocus:!0,large:!0,backgroundColor:"$surface2",hideInput:c,passwordStrength:f,placeholder:s("common.input.password.new"),pr:zi,value:o,onBlur:u,onChangeText:h,onSubmitEditing:w}),r.jsx(vr,{large:!0,backgroundColor:"$surface2",hideInput:c,placeholder:s("common.input.password.confirm"),pr:"$spacing48",value:g,onChangeText:d,onSubmitEditing:w,onToggleHideInput:m}),r.jsx(_,{color:"$statusCritical",opacity:l?1:0,textAlign:"center",variant:"body3",children:l||"Placeholder text"})]})})})}function lo(){const{goToNextStep:n,goToPreviousStep:e}=oe(),{generateOnboardingAccount:t,resetOnboardingContextData:s}=fe(),i=async a=>{s(),n(),await ni(Ta),await t(a)};return r.jsx(ks,{flow:G.New,onComplete:i,onBack:e})}function Ns({isResetting:n,fill:e}){const{t}=Q();return r.jsx(Lt,{px:"$spacing12",py:"$spacing8",onPress:()=>Z(`/${V.Onboarding}/${n?L.ResetScan:L.Scan}`),children:r.jsxs(T,{centered:!0,row:!0,fill:e,gap:"$spacing8",children:[r.jsx(Ya,{color:"$accent1",size:"$icon.24"}),r.jsx(_,{color:"$accent1",variant:"buttonLabel2",children:t("onboarding.intro.mobileScan.button")})]})})}const Mr=12,_r=24;function co(n){if(!n)return{error:"NotEnoughWords",isValidLength:!1};const t=as(n).split(" "),s=t.length>=Mr&&t.length<=_r,i=t.filter(a=>Ds(a));return i.length?{error:"InvalidWord",invalidWord:i.at(-1),invalidWordCount:i.length,isValidLength:s}:t.length<Mr?{error:"NotEnoughWords",isValidLength:s}:t.length>_r?{error:"TooManyWords",isValidLength:s}:{isValidLength:s}}function jn(n){const{error:e,invalidWord:t,invalidWordCount:s}=co(n);if(e)return{error:e,invalidWord:t,invalidWordCount:s};const i=as(n??"");return ri(i)?{validMnemonic:i}:{error:"InvalidPhrase"}}function Ds(n){var e;return n.length>0&&((e=is.en)==null?void 0:e.getWordIndex(n))===-1}const zt=Array(24).fill(null);function Lr(){const{t:n}=Q(),e=si(),[t,s]=E.useState(new Array(24).fill("")),{addOnboardingAccountMnemonic:i}=fe(),[a,c]=E.useState(!1),[f,o]=E.useState({}),u=E.useMemo(()=>!t.join(" ").toLocaleLowerCase().trim(),[t]),h=ii(),{isResetting:g,goToNextStep:d}=oe();E.useEffect(()=>{const k=N=>{if(!N.clipboardData)return;const R=N.clipboardData.getData("text").toLowerCase().trim();if(!R)return;const{validMnemonic:v,error:O}=jn(R);if(O||!v)return;N.preventDefault();const W=v.replaceAll(/\s+/g," ").split(" ");c(W.length>12);const K=Array(24).fill("").map((z,X)=>W[X]||"");s(K),o({}),setTimeout(()=>{var z;return(z=zt[W.length-1])==null?void 0:z.focus()},0),navigator.clipboard.writeText("").catch(()=>{})};return window.document.addEventListener("paste",k),()=>{window.document.removeEventListener("paste",k)}},[]);const m=E.useCallback(k=>N=>{var O;const R=[...t],v=N.nativeEvent.text;v.length>1&&v.endsWith(" ")&&((O=zt[k+1])==null||O.focus()),R[k]=v.trim(),s(R)},[t]),l=E.useCallback(k=>N=>{var R;N.nativeEvent.key==="Backspace"&&!t[k]&&k>0&&((R=zt[k-1])==null||R.focus())},[t]),p=E.useCallback(k=>N=>{var O;const R=N.nativeEvent.text;if(!R&&f[k]!==void 0&&o({...f,[k]:void 0}),!R)return;const v=((O=is.en)==null?void 0:O.getWordIndex(R))!==-1;o({...f,[k]:!v})},[f]),{error:w,invalidWordCount:I}=E.useMemo(()=>{const k=t.join(" ").toLowerCase();return k.trim()?jn(k):{error:void 0,invalidWordCount:void 0}},[t]),y=E.useMemo(()=>{if((a?t:t.slice(0,12)).every(R=>R.length>0)&&w)return n("onboarding.importMnemonic.error.invalidPhrase");if(w&&I&&I>=1)return n("onboarding.import.error.invalidWords",{count:I})},[a,t,w,n,I]),C=os(y,500),x=!u&&!w&&!y,D=E.useCallback(async()=>{x&&(g&&await e(ai.trigger({type:oi.Remove,accounts:h})),i(t),d())},[h,e,d,g,t,i,x]);return r.jsx(te,{logImpression:!0,properties:{flow:G.Import},screen:ae.SeedPhraseInput,children:r.jsx(T,{gap:"$spacing16",children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",height:q.icon48,width:q.icon48,children:r.jsx(Es,{color:"$neutral1",size:"$icon.24"})}),belowFrameContent:g?r.jsx(T,{centered:!0,row:!0,backgroundColor:"$surface1",borderColor:"$surface3",borderRadius:100,borderWidth:"$spacing1",mt:"$spacing8",px:"$spacing12",py:"$spacing8",shadowColor:"$surface3",shadowRadius:10,style:{margin:"auto"},children:r.jsx(Ns,{isResetting:g})}):void 0,nextButtonEnabled:!u&&!w&&!y,nextButtonText:n("common.button.continue"),subtitle:n("onboarding.importMnemonic.subtitle"),title:n("onboarding.importMnemonic.title"),onBack:g?void 0:()=>Z(`/${V.Onboarding}`,{replace:!0}),onSubmit:D,children:r.jsxs(r.Fragment,{children:[r.jsxs(_,{color:"$statusCritical",opacity:C?1:0,py:"$spacing8",textAlign:"center",variant:"body3",children:[C??mo," "]}),r.jsx(T,{row:!0,flexWrap:"wrap",gap:"$spacing16",children:t.map((k,N)=>!!(a||N<12)&&r.jsx(T,{style:Ms.recoveryPhraseWord,children:r.jsx(uo,{ref:R=>{zt[N]=R},handleBlur:p,handleChange:m,handleKeyPress:l,index:N,word:k,onSubmitEditing:D},N+"input")},N))}),r.jsx(T,{row:!0,alignSelf:"stretch",children:r.jsx(Qe,{mt:"$spacing16",mb:"$spacing8",icon:r.jsx(bs,{color:"$neutral3",direction:a?"up":"down",width:q.icon20}),iconPosition:"after",emphasis:"text-only",onPress:()=>{a&&s([...t.slice(0,12),...Array(12).fill("")]),c(!a)},children:n(a?"onboarding.importMnemonic.button.default":"onboarding.importMnemonic.button.longPhrase")})})]})})})})}const uo=E.forwardRef(function({word:e,index:t,handleBlur:s,handleChange:i,handleKeyPress:a,onSubmitEditing:c},f){const o=os(e,500),u=Ds(o);return r.jsxs(T,{position:"relative",width:130,children:[r.jsx(_,{color:"$neutral2",fontSize:_n.body3.fontSize,left:"$spacing16",pointerEvents:"none",position:"absolute",top:11,children:(t+1).toString()}),r.jsx(Ps,{ref:f,autoFocus:t===0,backgroundColor:"$surface2",borderColor:"$surface3",borderRadius:"$rounded16",borderWidth:"$spacing1",focusStyle:Ms.inputFocus,fontSize:_n.body3.fontSize,height:44,hoverStyle:$n.inputHover,pl:40,placeholderTextColor:"$neutral1",py:"$spacing12",value:e,onBlur:s(t),onChange:i(t),onKeyPress:a(t),onSubmitEditing:c,...u&&{backgroundColor:"$statusCritical2",color:"$statusCritical"}})]},t)}),Ms={inputFocus:{backgroundColor:"$surface1",borderWidth:1,borderColor:"$surface3",outlineWidth:0},recoveryPhraseWord:{width:"calc(calc(100% - 32px) / 3)"}},mo="DUMMY TEXT";var j;(function(n){n[n.AUTHENTICATION_TYPE_UNSPECIFIED=0]="AUTHENTICATION_TYPE_UNSPECIFIED",n[n.PASSKEY_REGISTRATION=1]="PASSKEY_REGISTRATION",n[n.PASSKEY_AUTHENTICATION=2]="PASSKEY_AUTHENTICATION",n[n.SIGN_MESSAGE=3]="SIGN_MESSAGE"})(j||(j={}));S.util.setEnumType(j,"uniswap.embeddedwallet.v1.AuthenticationTypes",[{no:0,name:"AUTHENTICATION_TYPE_UNSPECIFIED"},{no:1,name:"PASSKEY_REGISTRATION"},{no:2,name:"PASSKEY_AUTHENTICATION"},{no:3,name:"SIGN_MESSAGE"}]);var He;(function(n){n[n.ACTION_UNSPECIFIED=0]="ACTION_UNSPECIFIED",n[n.CREATE_WALLET=1]="CREATE_WALLET",n[n.SIGN_MESSAGES=2]="SIGN_MESSAGES",n[n.SIGN_TRANSACTIONS=3]="SIGN_TRANSACTIONS",n[n.SIGN_TYPED_DATA_BATCH=4]="SIGN_TYPED_DATA_BATCH",n[n.WALLET_SIGNIN=5]="WALLET_SIGNIN",n[n.EXPORT_SEED_PHRASE=6]="EXPORT_SEED_PHRASE",n[n.DELETE_RECORD=7]="DELETE_RECORD",n[n.REGISTER_NEW_AUTHENTICATION_TYPES=8]="REGISTER_NEW_AUTHENTICATION_TYPES",n[n.LIST_AUTHENTICATORS=9]="LIST_AUTHENTICATORS"})(He||(He={}));S.util.setEnumType(He,"uniswap.embeddedwallet.v1.Action",[{no:0,name:"ACTION_UNSPECIFIED"},{no:1,name:"CREATE_WALLET"},{no:2,name:"SIGN_MESSAGES"},{no:3,name:"SIGN_TRANSACTIONS"},{no:4,name:"SIGN_TYPED_DATA_BATCH"},{no:5,name:"WALLET_SIGNIN"},{no:6,name:"EXPORT_SEED_PHRASE"},{no:7,name:"DELETE_RECORD"},{no:8,name:"REGISTER_NEW_AUTHENTICATION_TYPES"},{no:9,name:"LIST_AUTHENTICATORS"}]);var Nt;(function(n){n[n.AUTHENTICATOR_NAME_TYPE_UNSPECIFIED=0]="AUTHENTICATOR_NAME_TYPE_UNSPECIFIED",n[n.GOOGLE_PASSWORD_MANAGER=1]="GOOGLE_PASSWORD_MANAGER",n[n.CHROME_MAC=2]="CHROME_MAC",n[n.WINDOWS_HELLO=3]="WINDOWS_HELLO",n[n.ICLOUD_KEYCHAIN_MANAGED=4]="ICLOUD_KEYCHAIN_MANAGED",n[n.DASHLANE=5]="DASHLANE",n[n.ONE_PASSWORD=6]="ONE_PASSWORD",n[n.NORDPASS=7]="NORDPASS",n[n.KEEPER=8]="KEEPER",n[n.SESAME=9]="SESAME",n[n.ENPASS=10]="ENPASS",n[n.CHROMIUM_BROWSER=11]="CHROMIUM_BROWSER",n[n.EDGE_MAC=12]="EDGE_MAC",n[n.IDMELON=13]="IDMELON",n[n.BITWARDEN=14]="BITWARDEN",n[n.ICLOUD_KEYCHAIN=15]="ICLOUD_KEYCHAIN",n[n.SAMSUNG_PASS=16]="SAMSUNG_PASS",n[n.THALES_BIO_IOS_SDK=17]="THALES_BIO_IOS_SDK",n[n.THALES_BIO_ANDROID_SDK=18]="THALES_BIO_ANDROID_SDK",n[n.THALES_PIN_ANDROID_SDK=19]="THALES_PIN_ANDROID_SDK",n[n.THALES_PIN_IOS_SDK=20]="THALES_PIN_IOS_SDK",n[n.PROTON_PASS=21]="PROTON_PASS",n[n.KEEPASSXC=22]="KEEPASSXC",n[n.TOOTHPIC_PASSKEY_PROVIDER=23]="TOOTHPIC_PASSKEY_PROVIDER",n[n.IPASSWORDS=24]="IPASSWORDS",n[n.ZOHO_VAULT=25]="ZOHO_VAULT",n[n.LASTPASS=26]="LASTPASS",n[n.DEVOLUTIONS=27]="DEVOLUTIONS",n[n.LOGMEONCE=28]="LOGMEONCE",n[n.KASPERSKY_PASSWORD_MANAGER=29]="KASPERSKY_PASSWORD_MANAGER"})(Nt||(Nt={}));S.util.setEnumType(Nt,"uniswap.embeddedwallet.v1.AuthenticatorNameType",[{no:0,name:"AUTHENTICATOR_NAME_TYPE_UNSPECIFIED"},{no:1,name:"GOOGLE_PASSWORD_MANAGER"},{no:2,name:"CHROME_MAC"},{no:3,name:"WINDOWS_HELLO"},{no:4,name:"ICLOUD_KEYCHAIN_MANAGED"},{no:5,name:"DASHLANE"},{no:6,name:"ONE_PASSWORD"},{no:7,name:"NORDPASS"},{no:8,name:"KEEPER"},{no:9,name:"SESAME"},{no:10,name:"ENPASS"},{no:11,name:"CHROMIUM_BROWSER"},{no:12,name:"EDGE_MAC"},{no:13,name:"IDMELON"},{no:14,name:"BITWARDEN"},{no:15,name:"ICLOUD_KEYCHAIN"},{no:16,name:"SAMSUNG_PASS"},{no:17,name:"THALES_BIO_IOS_SDK"},{no:18,name:"THALES_BIO_ANDROID_SDK"},{no:19,name:"THALES_PIN_ANDROID_SDK"},{no:20,name:"THALES_PIN_IOS_SDK"},{no:21,name:"PROTON_PASS"},{no:22,name:"KEEPASSXC"},{no:23,name:"TOOTHPIC_PASSKEY_PROVIDER"},{no:24,name:"IPASSWORDS"},{no:25,name:"ZOHO_VAULT"},{no:26,name:"LASTPASS"},{no:27,name:"DEVOLUTIONS"},{no:28,name:"LOGMEONCE"},{no:29,name:"KASPERSKY_PASSWORD_MANAGER"}]);let Bt=class rt extends F{constructor(e){super(),S.util.initPartial(e,this)}static fromBinary(e,t){return new rt().fromBinary(e,t)}static fromJson(e,t){return new rt().fromJson(e,t)}static fromJsonString(e,t){return new rt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(rt,e,t)}};Bt.runtime=S;Bt.typeName="uniswap.embeddedwallet.v1.RegistrationOptions";Bt.fields=S.util.newFieldList(()=>[{no:1,name:"authenticator_attachment",kind:"enum",T:S.getEnumType(rn),opt:!0},{no:2,name:"username",kind:"scalar",T:9,opt:!0}]);var rn;(function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.PLATFORM=1]="PLATFORM",n[n.CROSS_PLATFORM=2]="CROSS_PLATFORM"})(rn||(rn={}));S.util.setEnumType(rn,"uniswap.embeddedwallet.v1.RegistrationOptions.AuthenticatorAttachment",[{no:0,name:"UNSPECIFIED"},{no:1,name:"PLATFORM"},{no:2,name:"CROSS_PLATFORM"}]);let qn=class st extends F{constructor(e){super(),this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,this.action=He.ACTION_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new st().fromBinary(e,t)}static fromJson(e,t){return new st().fromJson(e,t)}static fromJsonString(e,t){return new st().fromJsonString(e,t)}static equals(e,t){return S.util.equals(st,e,t)}};qn.runtime=S;qn.typeName="uniswap.embeddedwallet.v1.ChallengeRequest";qn.fields=S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(j)},{no:2,name:"action",kind:"enum",T:S.getEnumType(He)},{no:3,name:"options",kind:"message",T:Bt,opt:!0}]);let Wn=class it extends F{constructor(e){super(),this.challengeOptions="",S.util.initPartial(e,this)}static fromBinary(e,t){return new it().fromBinary(e,t)}static fromJson(e,t){return new it().fromJson(e,t)}static fromJsonString(e,t){return new it().fromJsonString(e,t)}static equals(e,t){return S.util.equals(it,e,t)}};Wn.runtime=S;Wn.typeName="uniswap.embeddedwallet.v1.ChallengeResponse";Wn.fields=S.util.newFieldList(()=>[{no:1,name:"challenge_options",kind:"scalar",T:9}]);let Gn=class at extends F{constructor(e){super(),this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,this.action=He.ACTION_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new at().fromBinary(e,t)}static fromJson(e,t){return new at().fromJson(e,t)}static fromJsonString(e,t){return new at().fromJsonString(e,t)}static equals(e,t){return S.util.equals(at,e,t)}};Gn.runtime=S;Gn.typeName="uniswap.embeddedwallet.v1.SecuredChallengeRequest";Gn.fields=S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(j)},{no:2,name:"action",kind:"enum",T:S.getEnumType(He)},{no:3,name:"options",kind:"message",T:Bt,opt:!0},{no:4,name:"b64_encryption_public_key",kind:"scalar",T:9,opt:!0}]);let Kn=class ot extends F{constructor(e){super(),this.challengeOptions="",S.util.initPartial(e,this)}static fromBinary(e,t){return new ot().fromBinary(e,t)}static fromJson(e,t){return new ot().fromJson(e,t)}static fromJsonString(e,t){return new ot().fromJsonString(e,t)}static equals(e,t){return S.util.equals(ot,e,t)}};Kn.runtime=S;Kn.typeName="uniswap.embeddedwallet.v1.SecuredChallengeResponse";Kn.fields=S.util.newFieldList(()=>[{no:1,name:"challenge_options",kind:"scalar",T:9}]);let zn=class lt extends F{constructor(e){super(),this.credential="",this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new lt().fromBinary(e,t)}static fromJson(e,t){return new lt().fromJson(e,t)}static fromJsonString(e,t){return new lt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(lt,e,t)}};zn.runtime=S;zn.typeName="uniswap.embeddedwallet.v1.CreateWalletRequest";zn.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:S.getEnumType(j)}]);let Vn=class ct extends F{constructor(e){super(),this.walletAddress="",S.util.initPartial(e,this)}static fromBinary(e,t){return new ct().fromBinary(e,t)}static fromJson(e,t){return new ct().fromJson(e,t)}static fromJsonString(e,t){return new ct().fromJsonString(e,t)}static equals(e,t){return S.util.equals(ct,e,t)}};Vn.runtime=S;Vn.typeName="uniswap.embeddedwallet.v1.CreateWalletResponse";Vn.fields=S.util.newFieldList(()=>[{no:1,name:"wallet_address",kind:"scalar",T:9},{no:2,name:"encrypted_seed_phrase",kind:"scalar",T:9,opt:!0}]);let Yn=class ut extends F{constructor(e){super(),this.credential="",this.transactions=[],this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new ut().fromBinary(e,t)}static fromJson(e,t){return new ut().fromJson(e,t)}static fromJsonString(e,t){return new ut().fromJsonString(e,t)}static equals(e,t){return S.util.equals(ut,e,t)}};Yn.runtime=S;Yn.typeName="uniswap.embeddedwallet.v1.SignTransactionsRequest";Yn.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"transactions",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:S.getEnumType(j)}]);let Zn=class dt extends F{constructor(e){super(),this.signedTransactions=[],S.util.initPartial(e,this)}static fromBinary(e,t){return new dt().fromBinary(e,t)}static fromJson(e,t){return new dt().fromJson(e,t)}static fromJsonString(e,t){return new dt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(dt,e,t)}};Zn.runtime=S;Zn.typeName="uniswap.embeddedwallet.v1.SignTransactionsResponse";Zn.fields=S.util.newFieldList(()=>[{no:1,name:"signed_transactions",kind:"scalar",T:9,repeated:!0}]);let Qn=class mt extends F{constructor(e){super(),this.credential="",this.messages=[],this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new mt().fromBinary(e,t)}static fromJson(e,t){return new mt().fromJson(e,t)}static fromJsonString(e,t){return new mt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(mt,e,t)}};Qn.runtime=S;Qn.typeName="uniswap.embeddedwallet.v1.SignMessagesRequest";Qn.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"messages",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:S.getEnumType(j)}]);let Xn=class ft extends F{constructor(e){super(),this.signedMessages=[],S.util.initPartial(e,this)}static fromBinary(e,t){return new ft().fromBinary(e,t)}static fromJson(e,t){return new ft().fromJson(e,t)}static fromJsonString(e,t){return new ft().fromJsonString(e,t)}static equals(e,t){return S.util.equals(ft,e,t)}};Xn.runtime=S;Xn.typeName="uniswap.embeddedwallet.v1.SignMessagesResponse";Xn.fields=S.util.newFieldList(()=>[{no:1,name:"signed_messages",kind:"scalar",T:9,repeated:!0}]);let er=class gt extends F{constructor(e){super(),this.credential="",this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new gt().fromBinary(e,t)}static fromJson(e,t){return new gt().fromJson(e,t)}static fromJsonString(e,t){return new gt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(gt,e,t)}};er.runtime=S;er.typeName="uniswap.embeddedwallet.v1.WalletSigninRequest";er.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:S.getEnumType(j)}]);let tr=class pt extends F{constructor(e){super(),this.walletAddress="",S.util.initPartial(e,this)}static fromBinary(e,t){return new pt().fromBinary(e,t)}static fromJson(e,t){return new pt().fromJson(e,t)}static fromJsonString(e,t){return new pt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(pt,e,t)}};tr.runtime=S;tr.typeName="uniswap.embeddedwallet.v1.WalletSigninResponse";tr.fields=S.util.newFieldList(()=>[{no:1,name:"wallet_address",kind:"scalar",T:9},{no:2,name:"exported",kind:"scalar",T:8,opt:!0}]);let nr=class ht extends F{constructor(e){super(),this.credential="",this.b64EncryptionPublicKey="",this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new ht().fromBinary(e,t)}static fromJson(e,t){return new ht().fromJson(e,t)}static fromJsonString(e,t){return new ht().fromJsonString(e,t)}static equals(e,t){return S.util.equals(ht,e,t)}};nr.runtime=S;nr.typeName="uniswap.embeddedwallet.v1.ExportSeedPhraseRequest";nr.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"b64_encryption_public_key",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:S.getEnumType(j)}]);let rr=class wt extends F{constructor(e){super(),this.encryptedSeedPhrase="",S.util.initPartial(e,this)}static fromBinary(e,t){return new wt().fromBinary(e,t)}static fromJson(e,t){return new wt().fromJson(e,t)}static fromJsonString(e,t){return new wt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(wt,e,t)}};rr.runtime=S;rr.typeName="uniswap.embeddedwallet.v1.ExportSeedPhraseResponse";rr.fields=S.util.newFieldList(()=>[{no:1,name:"encrypted_seed_phrase",kind:"scalar",T:9}]);let sr=class St extends F{constructor(e){super(),this.credential="",this.typedDataBatch=[],this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new St().fromBinary(e,t)}static fromJson(e,t){return new St().fromJson(e,t)}static fromJsonString(e,t){return new St().fromJsonString(e,t)}static equals(e,t){return S.util.equals(St,e,t)}};sr.runtime=S;sr.typeName="uniswap.embeddedwallet.v1.SignTypedDataBatchRequest";sr.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"typed_data_batch",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:S.getEnumType(j)}]);let ir=class bt extends F{constructor(e){super(),this.signature=[],S.util.initPartial(e,this)}static fromBinary(e,t){return new bt().fromBinary(e,t)}static fromJson(e,t){return new bt().fromJson(e,t)}static fromJsonString(e,t){return new bt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(bt,e,t)}};ir.runtime=S;ir.typeName="uniswap.embeddedwallet.v1.SignTypedDataBatchResponse";ir.fields=S.util.newFieldList(()=>[{no:1,name:"signature",kind:"scalar",T:9,repeated:!0}]);let ar=class Et extends F{constructor(e){super(),this.credential="",this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,this.authenticatorId="",this.authenticatorType="",S.util.initPartial(e,this)}static fromBinary(e,t){return new Et().fromBinary(e,t)}static fromJson(e,t){return new Et().fromJson(e,t)}static fromJsonString(e,t){return new Et().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Et,e,t)}};ar.runtime=S;ar.typeName="uniswap.embeddedwallet.v1.DeleteAuthenticatorRequest";ar.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:S.getEnumType(j)},{no:3,name:"authenticator_id",kind:"scalar",T:9},{no:4,name:"authenticator_type",kind:"scalar",T:9}]);let or=class Tt extends F{constructor(e){super(),S.util.initPartial(e,this)}static fromBinary(e,t){return new Tt().fromBinary(e,t)}static fromJson(e,t){return new Tt().fromJson(e,t)}static fromJsonString(e,t){return new Tt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Tt,e,t)}};or.runtime=S;or.typeName="uniswap.embeddedwallet.v1.DeleteAuthenticatorResponse";or.fields=S.util.newFieldList(()=>[]);let lr=class It extends F{constructor(e){super(),S.util.initPartial(e,this)}static fromBinary(e,t){return new It().fromBinary(e,t)}static fromJson(e,t){return new It().fromJson(e,t)}static fromJsonString(e,t){return new It().fromJsonString(e,t)}static equals(e,t){return S.util.equals(It,e,t)}};lr.runtime=S;lr.typeName="uniswap.embeddedwallet.v1.DisconnectWalletRequest";lr.fields=S.util.newFieldList(()=>[]);let cr=class Ct extends F{constructor(e){super(),S.util.initPartial(e,this)}static fromBinary(e,t){return new Ct().fromBinary(e,t)}static fromJson(e,t){return new Ct().fromJson(e,t)}static fromJsonString(e,t){return new Ct().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Ct,e,t)}};cr.runtime=S;cr.typeName="uniswap.embeddedwallet.v1.DisconnectWalletResponse";cr.fields=S.util.newFieldList(()=>[]);let ur=class xt extends F{constructor(e){super(),this.newCredential="",this.newAuthenticationType=j.AUTHENTICATION_TYPE_UNSPECIFIED,this.existingCredential="",this.existingAuthenticationType=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new xt().fromBinary(e,t)}static fromJson(e,t){return new xt().fromJson(e,t)}static fromJsonString(e,t){return new xt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(xt,e,t)}};ur.runtime=S;ur.typeName="uniswap.embeddedwallet.v1.RegisterNewAuthenticatorRequest";ur.fields=S.util.newFieldList(()=>[{no:1,name:"new_credential",kind:"scalar",T:9},{no:2,name:"new_authentication_type",kind:"enum",T:S.getEnumType(j)},{no:3,name:"existing_credential",kind:"scalar",T:9},{no:4,name:"existing_authentication_type",kind:"enum",T:S.getEnumType(j)}]);let dr=class yt extends F{constructor(e){super(),S.util.initPartial(e,this)}static fromBinary(e,t){return new yt().fromBinary(e,t)}static fromJson(e,t){return new yt().fromJson(e,t)}static fromJsonString(e,t){return new yt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(yt,e,t)}};dr.runtime=S;dr.typeName="uniswap.embeddedwallet.v1.RegisterNewAuthenticatorResponse";dr.fields=S.util.newFieldList(()=>[]);let mr=class vt extends F{constructor(e){super(),this.credential="",this.type=j.AUTHENTICATION_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new vt().fromBinary(e,t)}static fromJson(e,t){return new vt().fromJson(e,t)}static fromJsonString(e,t){return new vt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(vt,e,t)}};mr.runtime=S;mr.typeName="uniswap.embeddedwallet.v1.ListAuthenticatorsRequest";mr.fields=S.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:S.getEnumType(j)}]);let fr=class Pt extends F{constructor(e){super(),this.authenticators=[],S.util.initPartial(e,this)}static fromBinary(e,t){return new Pt().fromBinary(e,t)}static fromJson(e,t){return new Pt().fromJson(e,t)}static fromJsonString(e,t){return new Pt().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Pt,e,t)}};fr.runtime=S;fr.typeName="uniswap.embeddedwallet.v1.ListAuthenticatorsResponse";fr.fields=S.util.newFieldList(()=>[{no:1,name:"authenticators",kind:"message",T:ln,repeated:!0}]);let ln=class Ot extends F{constructor(e){super(),this.id="",this.type="",this.username="",this.providerName=Nt.AUTHENTICATOR_NAME_TYPE_UNSPECIFIED,S.util.initPartial(e,this)}static fromBinary(e,t){return new Ot().fromBinary(e,t)}static fromJson(e,t){return new Ot().fromJson(e,t)}static fromJsonString(e,t){return new Ot().fromJsonString(e,t)}static equals(e,t){return S.util.equals(Ot,e,t)}};ln.runtime=S;ln.typeName="uniswap.embeddedwallet.v1.Authenticator";ln.fields=S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"provider_name",kind:"enum",T:S.getEnumType(Nt)},{no:5,name:"creation_time",kind:"message",T:on}]);var U;(function(n){n[n.AUTHENTICATION_TYPE_UNSPECIFIED=0]="AUTHENTICATION_TYPE_UNSPECIFIED",n[n.PASSKEY_REGISTRATION=1]="PASSKEY_REGISTRATION",n[n.PASSKEY_AUTHENTICATION=2]="PASSKEY_AUTHENTICATION",n[n.SIGN_MESSAGE=3]="SIGN_MESSAGE"})(U||(U={}));b.util.setEnumType(U,"uniswap.embeddedwallet.v1.AuthenticationTypes",[{no:0,name:"AUTHENTICATION_TYPE_UNSPECIFIED"},{no:1,name:"PASSKEY_REGISTRATION"},{no:2,name:"PASSKEY_AUTHENTICATION"},{no:3,name:"SIGN_MESSAGE"}]);var Ke;(function(n){n[n.ACTION_UNSPECIFIED=0]="ACTION_UNSPECIFIED",n[n.CREATE_WALLET=1]="CREATE_WALLET",n[n.SIGN_MESSAGES=2]="SIGN_MESSAGES",n[n.SIGN_TRANSACTIONS=3]="SIGN_TRANSACTIONS",n[n.SIGN_TYPED_DATA_BATCH=4]="SIGN_TYPED_DATA_BATCH",n[n.WALLET_SIGNIN=5]="WALLET_SIGNIN",n[n.EXPORT_SEED_PHRASE=6]="EXPORT_SEED_PHRASE",n[n.DELETE_RECORD=7]="DELETE_RECORD",n[n.REGISTER_NEW_AUTHENTICATION_TYPES=8]="REGISTER_NEW_AUTHENTICATION_TYPES",n[n.LIST_AUTHENTICATORS=9]="LIST_AUTHENTICATORS"})(Ke||(Ke={}));b.util.setEnumType(Ke,"uniswap.embeddedwallet.v1.Action",[{no:0,name:"ACTION_UNSPECIFIED"},{no:1,name:"CREATE_WALLET"},{no:2,name:"SIGN_MESSAGES"},{no:3,name:"SIGN_TRANSACTIONS"},{no:4,name:"SIGN_TYPED_DATA_BATCH"},{no:5,name:"WALLET_SIGNIN"},{no:6,name:"EXPORT_SEED_PHRASE"},{no:7,name:"DELETE_RECORD"},{no:8,name:"REGISTER_NEW_AUTHENTICATION_TYPES"},{no:9,name:"LIST_AUTHENTICATORS"}]);var Dt;(function(n){n[n.AUTHENTICATOR_NAME_TYPE_UNSPECIFIED=0]="AUTHENTICATOR_NAME_TYPE_UNSPECIFIED",n[n.GOOGLE_PASSWORD_MANAGER=1]="GOOGLE_PASSWORD_MANAGER",n[n.CHROME_MAC=2]="CHROME_MAC",n[n.WINDOWS_HELLO=3]="WINDOWS_HELLO",n[n.ICLOUD_KEYCHAIN_MANAGED=4]="ICLOUD_KEYCHAIN_MANAGED",n[n.DASHLANE=5]="DASHLANE",n[n.ONE_PASSWORD=6]="ONE_PASSWORD",n[n.NORDPASS=7]="NORDPASS",n[n.KEEPER=8]="KEEPER",n[n.SESAME=9]="SESAME",n[n.ENPASS=10]="ENPASS",n[n.CHROMIUM_BROWSER=11]="CHROMIUM_BROWSER",n[n.EDGE_MAC=12]="EDGE_MAC",n[n.IDMELON=13]="IDMELON",n[n.BITWARDEN=14]="BITWARDEN",n[n.ICLOUD_KEYCHAIN=15]="ICLOUD_KEYCHAIN",n[n.SAMSUNG_PASS=16]="SAMSUNG_PASS",n[n.THALES_BIO_IOS_SDK=17]="THALES_BIO_IOS_SDK",n[n.THALES_BIO_ANDROID_SDK=18]="THALES_BIO_ANDROID_SDK",n[n.THALES_PIN_ANDROID_SDK=19]="THALES_PIN_ANDROID_SDK",n[n.THALES_PIN_IOS_SDK=20]="THALES_PIN_IOS_SDK",n[n.PROTON_PASS=21]="PROTON_PASS",n[n.KEEPASSXC=22]="KEEPASSXC",n[n.TOOTHPIC_PASSKEY_PROVIDER=23]="TOOTHPIC_PASSKEY_PROVIDER",n[n.IPASSWORDS=24]="IPASSWORDS",n[n.ZOHO_VAULT=25]="ZOHO_VAULT",n[n.LASTPASS=26]="LASTPASS",n[n.DEVOLUTIONS=27]="DEVOLUTIONS",n[n.LOGMEONCE=28]="LOGMEONCE",n[n.KASPERSKY_PASSWORD_MANAGER=29]="KASPERSKY_PASSWORD_MANAGER"})(Dt||(Dt={}));b.util.setEnumType(Dt,"uniswap.embeddedwallet.v1.AuthenticatorNameType",[{no:0,name:"AUTHENTICATOR_NAME_TYPE_UNSPECIFIED"},{no:1,name:"GOOGLE_PASSWORD_MANAGER"},{no:2,name:"CHROME_MAC"},{no:3,name:"WINDOWS_HELLO"},{no:4,name:"ICLOUD_KEYCHAIN_MANAGED"},{no:5,name:"DASHLANE"},{no:6,name:"ONE_PASSWORD"},{no:7,name:"NORDPASS"},{no:8,name:"KEEPER"},{no:9,name:"SESAME"},{no:10,name:"ENPASS"},{no:11,name:"CHROMIUM_BROWSER"},{no:12,name:"EDGE_MAC"},{no:13,name:"IDMELON"},{no:14,name:"BITWARDEN"},{no:15,name:"ICLOUD_KEYCHAIN"},{no:16,name:"SAMSUNG_PASS"},{no:17,name:"THALES_BIO_IOS_SDK"},{no:18,name:"THALES_BIO_ANDROID_SDK"},{no:19,name:"THALES_PIN_ANDROID_SDK"},{no:20,name:"THALES_PIN_IOS_SDK"},{no:21,name:"PROTON_PASS"},{no:22,name:"KEEPASSXC"},{no:23,name:"TOOTHPIC_PASSKEY_PROVIDER"},{no:24,name:"IPASSWORDS"},{no:25,name:"ZOHO_VAULT"},{no:26,name:"LASTPASS"},{no:27,name:"DEVOLUTIONS"},{no:28,name:"LOGMEONCE"},{no:29,name:"KASPERSKY_PASSWORD_MANAGER"}]);class me extends J{constructor(e){super(),b.util.initPartial(e,this)}static fromBinary(e,t){return new me().fromBinary(e,t)}static fromJson(e,t){return new me().fromJson(e,t)}static fromJsonString(e,t){return new me().fromJsonString(e,t)}static equals(e,t){return b.util.equals(me,e,t)}}me.runtime=b;me.typeName="uniswap.embeddedwallet.v1.RegistrationOptions";me.fields=b.util.newFieldList(()=>[{no:1,name:"authenticator_attachment",kind:"enum",T:b.getEnumType(sn),opt:!0},{no:2,name:"username",kind:"scalar",T:9,opt:!0}]);var sn;(function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.PLATFORM=1]="PLATFORM",n[n.CROSS_PLATFORM=2]="CROSS_PLATFORM"})(sn||(sn={}));b.util.setEnumType(sn,"uniswap.embeddedwallet.v1.RegistrationOptions.AuthenticatorAttachment",[{no:0,name:"UNSPECIFIED"},{no:1,name:"PLATFORM"},{no:2,name:"CROSS_PLATFORM"}]);class ge extends J{constructor(e){super(),this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,this.action=Ke.ACTION_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new ge().fromBinary(e,t)}static fromJson(e,t){return new ge().fromJson(e,t)}static fromJsonString(e,t){return new ge().fromJsonString(e,t)}static equals(e,t){return b.util.equals(ge,e,t)}}ge.runtime=b;ge.typeName="uniswap.embeddedwallet.v1.ChallengeRequest";ge.fields=b.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:b.getEnumType(U)},{no:2,name:"action",kind:"enum",T:b.getEnumType(Ke)},{no:3,name:"options",kind:"message",T:me,opt:!0}]);class pe extends J{constructor(e){super(),this.challengeOptions="",b.util.initPartial(e,this)}static fromBinary(e,t){return new pe().fromBinary(e,t)}static fromJson(e,t){return new pe().fromJson(e,t)}static fromJsonString(e,t){return new pe().fromJsonString(e,t)}static equals(e,t){return b.util.equals(pe,e,t)}}pe.runtime=b;pe.typeName="uniswap.embeddedwallet.v1.ChallengeResponse";pe.fields=b.util.newFieldList(()=>[{no:1,name:"challenge_options",kind:"scalar",T:9}]);class he extends J{constructor(e){super(),this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,this.action=Ke.ACTION_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new he().fromBinary(e,t)}static fromJson(e,t){return new he().fromJson(e,t)}static fromJsonString(e,t){return new he().fromJsonString(e,t)}static equals(e,t){return b.util.equals(he,e,t)}}he.runtime=b;he.typeName="uniswap.embeddedwallet.v1.SecuredChallengeRequest";he.fields=b.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:b.getEnumType(U)},{no:2,name:"action",kind:"enum",T:b.getEnumType(Ke)},{no:3,name:"options",kind:"message",T:me,opt:!0},{no:4,name:"b64_encryption_public_key",kind:"scalar",T:9,opt:!0}]);class we extends J{constructor(e){super(),this.challengeOptions="",b.util.initPartial(e,this)}static fromBinary(e,t){return new we().fromBinary(e,t)}static fromJson(e,t){return new we().fromJson(e,t)}static fromJsonString(e,t){return new we().fromJsonString(e,t)}static equals(e,t){return b.util.equals(we,e,t)}}we.runtime=b;we.typeName="uniswap.embeddedwallet.v1.SecuredChallengeResponse";we.fields=b.util.newFieldList(()=>[{no:1,name:"challenge_options",kind:"scalar",T:9}]);class Se extends J{constructor(e){super(),this.credential="",this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Se().fromBinary(e,t)}static fromJson(e,t){return new Se().fromJson(e,t)}static fromJsonString(e,t){return new Se().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Se,e,t)}}Se.runtime=b;Se.typeName="uniswap.embeddedwallet.v1.CreateWalletRequest";Se.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:b.getEnumType(U)}]);class be extends J{constructor(e){super(),this.walletAddress="",b.util.initPartial(e,this)}static fromBinary(e,t){return new be().fromBinary(e,t)}static fromJson(e,t){return new be().fromJson(e,t)}static fromJsonString(e,t){return new be().fromJsonString(e,t)}static equals(e,t){return b.util.equals(be,e,t)}}be.runtime=b;be.typeName="uniswap.embeddedwallet.v1.CreateWalletResponse";be.fields=b.util.newFieldList(()=>[{no:1,name:"wallet_address",kind:"scalar",T:9},{no:2,name:"encrypted_seed_phrase",kind:"scalar",T:9,opt:!0}]);class Ee extends J{constructor(e){super(),this.credential="",this.transactions=[],this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Ee().fromBinary(e,t)}static fromJson(e,t){return new Ee().fromJson(e,t)}static fromJsonString(e,t){return new Ee().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Ee,e,t)}}Ee.runtime=b;Ee.typeName="uniswap.embeddedwallet.v1.SignTransactionsRequest";Ee.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"transactions",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:b.getEnumType(U)}]);class Te extends J{constructor(e){super(),this.signedTransactions=[],b.util.initPartial(e,this)}static fromBinary(e,t){return new Te().fromBinary(e,t)}static fromJson(e,t){return new Te().fromJson(e,t)}static fromJsonString(e,t){return new Te().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Te,e,t)}}Te.runtime=b;Te.typeName="uniswap.embeddedwallet.v1.SignTransactionsResponse";Te.fields=b.util.newFieldList(()=>[{no:1,name:"signed_transactions",kind:"scalar",T:9,repeated:!0}]);class Ie extends J{constructor(e){super(),this.credential="",this.messages=[],this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Ie().fromBinary(e,t)}static fromJson(e,t){return new Ie().fromJson(e,t)}static fromJsonString(e,t){return new Ie().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Ie,e,t)}}Ie.runtime=b;Ie.typeName="uniswap.embeddedwallet.v1.SignMessagesRequest";Ie.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"messages",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:b.getEnumType(U)}]);class Ce extends J{constructor(e){super(),this.signedMessages=[],b.util.initPartial(e,this)}static fromBinary(e,t){return new Ce().fromBinary(e,t)}static fromJson(e,t){return new Ce().fromJson(e,t)}static fromJsonString(e,t){return new Ce().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Ce,e,t)}}Ce.runtime=b;Ce.typeName="uniswap.embeddedwallet.v1.SignMessagesResponse";Ce.fields=b.util.newFieldList(()=>[{no:1,name:"signed_messages",kind:"scalar",T:9,repeated:!0}]);class xe extends J{constructor(e){super(),this.credential="",this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new xe().fromBinary(e,t)}static fromJson(e,t){return new xe().fromJson(e,t)}static fromJsonString(e,t){return new xe().fromJsonString(e,t)}static equals(e,t){return b.util.equals(xe,e,t)}}xe.runtime=b;xe.typeName="uniswap.embeddedwallet.v1.WalletSigninRequest";xe.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:b.getEnumType(U)}]);class ye extends J{constructor(e){super(),this.walletAddress="",b.util.initPartial(e,this)}static fromBinary(e,t){return new ye().fromBinary(e,t)}static fromJson(e,t){return new ye().fromJson(e,t)}static fromJsonString(e,t){return new ye().fromJsonString(e,t)}static equals(e,t){return b.util.equals(ye,e,t)}}ye.runtime=b;ye.typeName="uniswap.embeddedwallet.v1.WalletSigninResponse";ye.fields=b.util.newFieldList(()=>[{no:1,name:"wallet_address",kind:"scalar",T:9},{no:2,name:"exported",kind:"scalar",T:8,opt:!0}]);class ve extends J{constructor(e){super(),this.credential="",this.b64EncryptionPublicKey="",this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new ve().fromBinary(e,t)}static fromJson(e,t){return new ve().fromJson(e,t)}static fromJsonString(e,t){return new ve().fromJsonString(e,t)}static equals(e,t){return b.util.equals(ve,e,t)}}ve.runtime=b;ve.typeName="uniswap.embeddedwallet.v1.ExportSeedPhraseRequest";ve.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"b64_encryption_public_key",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:b.getEnumType(U)}]);class Pe extends J{constructor(e){super(),this.encryptedSeedPhrase="",b.util.initPartial(e,this)}static fromBinary(e,t){return new Pe().fromBinary(e,t)}static fromJson(e,t){return new Pe().fromJson(e,t)}static fromJsonString(e,t){return new Pe().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Pe,e,t)}}Pe.runtime=b;Pe.typeName="uniswap.embeddedwallet.v1.ExportSeedPhraseResponse";Pe.fields=b.util.newFieldList(()=>[{no:1,name:"encrypted_seed_phrase",kind:"scalar",T:9}]);class Oe extends J{constructor(e){super(),this.credential="",this.typedDataBatch=[],this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Oe().fromBinary(e,t)}static fromJson(e,t){return new Oe().fromJson(e,t)}static fromJsonString(e,t){return new Oe().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Oe,e,t)}}Oe.runtime=b;Oe.typeName="uniswap.embeddedwallet.v1.SignTypedDataBatchRequest";Oe.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"typed_data_batch",kind:"scalar",T:9,repeated:!0},{no:3,name:"type",kind:"enum",T:b.getEnumType(U)}]);class Ae extends J{constructor(e){super(),this.signature=[],b.util.initPartial(e,this)}static fromBinary(e,t){return new Ae().fromBinary(e,t)}static fromJson(e,t){return new Ae().fromJson(e,t)}static fromJsonString(e,t){return new Ae().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Ae,e,t)}}Ae.runtime=b;Ae.typeName="uniswap.embeddedwallet.v1.SignTypedDataBatchResponse";Ae.fields=b.util.newFieldList(()=>[{no:1,name:"signature",kind:"scalar",T:9,repeated:!0}]);class Re extends J{constructor(e){super(),this.credential="",this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,this.authenticatorId="",this.authenticatorType="",b.util.initPartial(e,this)}static fromBinary(e,t){return new Re().fromBinary(e,t)}static fromJson(e,t){return new Re().fromJson(e,t)}static fromJsonString(e,t){return new Re().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Re,e,t)}}Re.runtime=b;Re.typeName="uniswap.embeddedwallet.v1.DeleteAuthenticatorRequest";Re.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:b.getEnumType(U)},{no:3,name:"authenticator_id",kind:"scalar",T:9},{no:4,name:"authenticator_type",kind:"scalar",T:9}]);class ke extends J{constructor(e){super(),b.util.initPartial(e,this)}static fromBinary(e,t){return new ke().fromBinary(e,t)}static fromJson(e,t){return new ke().fromJson(e,t)}static fromJsonString(e,t){return new ke().fromJsonString(e,t)}static equals(e,t){return b.util.equals(ke,e,t)}}ke.runtime=b;ke.typeName="uniswap.embeddedwallet.v1.DeleteAuthenticatorResponse";ke.fields=b.util.newFieldList(()=>[]);class Ne extends J{constructor(e){super(),b.util.initPartial(e,this)}static fromBinary(e,t){return new Ne().fromBinary(e,t)}static fromJson(e,t){return new Ne().fromJson(e,t)}static fromJsonString(e,t){return new Ne().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Ne,e,t)}}Ne.runtime=b;Ne.typeName="uniswap.embeddedwallet.v1.DisconnectWalletRequest";Ne.fields=b.util.newFieldList(()=>[]);class De extends J{constructor(e){super(),b.util.initPartial(e,this)}static fromBinary(e,t){return new De().fromBinary(e,t)}static fromJson(e,t){return new De().fromJson(e,t)}static fromJsonString(e,t){return new De().fromJsonString(e,t)}static equals(e,t){return b.util.equals(De,e,t)}}De.runtime=b;De.typeName="uniswap.embeddedwallet.v1.DisconnectWalletResponse";De.fields=b.util.newFieldList(()=>[]);class Me extends J{constructor(e){super(),this.newCredential="",this.newAuthenticationType=U.AUTHENTICATION_TYPE_UNSPECIFIED,this.existingCredential="",this.existingAuthenticationType=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Me().fromBinary(e,t)}static fromJson(e,t){return new Me().fromJson(e,t)}static fromJsonString(e,t){return new Me().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Me,e,t)}}Me.runtime=b;Me.typeName="uniswap.embeddedwallet.v1.RegisterNewAuthenticatorRequest";Me.fields=b.util.newFieldList(()=>[{no:1,name:"new_credential",kind:"scalar",T:9},{no:2,name:"new_authentication_type",kind:"enum",T:b.getEnumType(U)},{no:3,name:"existing_credential",kind:"scalar",T:9},{no:4,name:"existing_authentication_type",kind:"enum",T:b.getEnumType(U)}]);class _e extends J{constructor(e){super(),b.util.initPartial(e,this)}static fromBinary(e,t){return new _e().fromBinary(e,t)}static fromJson(e,t){return new _e().fromJson(e,t)}static fromJsonString(e,t){return new _e().fromJsonString(e,t)}static equals(e,t){return b.util.equals(_e,e,t)}}_e.runtime=b;_e.typeName="uniswap.embeddedwallet.v1.RegisterNewAuthenticatorResponse";_e.fields=b.util.newFieldList(()=>[]);class Le extends J{constructor(e){super(),this.credential="",this.type=U.AUTHENTICATION_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new Le().fromBinary(e,t)}static fromJson(e,t){return new Le().fromJson(e,t)}static fromJsonString(e,t){return new Le().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Le,e,t)}}Le.runtime=b;Le.typeName="uniswap.embeddedwallet.v1.ListAuthenticatorsRequest";Le.fields=b.util.newFieldList(()=>[{no:1,name:"credential",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:b.getEnumType(U)}]);class Be extends J{constructor(e){super(),this.authenticators=[],b.util.initPartial(e,this)}static fromBinary(e,t){return new Be().fromBinary(e,t)}static fromJson(e,t){return new Be().fromJson(e,t)}static fromJsonString(e,t){return new Be().fromJsonString(e,t)}static equals(e,t){return b.util.equals(Be,e,t)}}Be.runtime=b;Be.typeName="uniswap.embeddedwallet.v1.ListAuthenticatorsResponse";Be.fields=b.util.newFieldList(()=>[{no:1,name:"authenticators",kind:"message",T:$e,repeated:!0}]);class $e extends J{constructor(e){super(),this.id="",this.type="",this.username="",this.providerName=Dt.AUTHENTICATOR_NAME_TYPE_UNSPECIFIED,b.util.initPartial(e,this)}static fromBinary(e,t){return new $e().fromBinary(e,t)}static fromJson(e,t){return new $e().fromJson(e,t)}static fromJsonString(e,t){return new $e().fromJsonString(e,t)}static equals(e,t){return b.util.equals($e,e,t)}}$e.runtime=b;$e.typeName="uniswap.embeddedwallet.v1.Authenticator";$e.fields=b.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"provider_name",kind:"enum",T:b.getEnumType(Dt)},{no:5,name:"creation_time",kind:"message",T:se}]);const fo={typeName:"uniswap.embeddedwallet.v1.EmbeddedWalletService",methods:{challenge:{name:"Challenge",I:ge,O:pe,kind:ee.Unary},securedChallenge:{name:"SecuredChallenge",I:he,O:we,kind:ee.Unary},createWallet:{name:"CreateWallet",I:Se,O:be,kind:ee.Unary},signMessages:{name:"SignMessages",I:Ie,O:Ce,kind:ee.Unary},signTransactions:{name:"SignTransactions",I:Ee,O:Te,kind:ee.Unary},walletSignin:{name:"WalletSignin",I:xe,O:ye,kind:ee.Unary},signTypedDataBatch:{name:"SignTypedDataBatch",I:Oe,O:Ae,kind:ee.Unary},exportSeedPhrase:{name:"ExportSeedPhrase",I:ve,O:Pe,kind:ee.Unary},deleteAuthenticator:{name:"DeleteAuthenticator",I:Re,O:ke,kind:ee.Unary},disconnectWallet:{name:"DisconnectWallet",I:Ne,O:De,kind:ee.Unary},registerNewAuthenticator:{name:"RegisterNewAuthenticator",I:Me,O:_e,kind:ee.Unary},listAuthenticators:{name:"ListAuthenticators",I:Le,O:Be,kind:ee.Unary}}},go=li(),po=Yi({baseUrl:ls()||go?je.evervaultProductionUrl:je.evervaultStagingUrl,additionalHeaders:{...mi,"x-request-source":di,"x-app-version":ui()}},{credentials:"include"}),ho=ci(fo,po),_s=Ga({rpcClient:ho});async function wo(n){const e=await Ln.generateKeyPairForPasskeyWallet(),t=await _s.fetchExportSeedPhraseRequest({encryptionKey:e,credential:n});return await Ln.decryptMnemonicForPasskey(t.encryptedSeedPhrase,e)}const Ls=E.createContext(void 0);function So({children:n}){const[e,t]=E.useState(null),[s,i]=E.useState(null),{addOnboardingAccountMnemonic:a}=fe(),c=E.useCallback(async f=>{try{const o=await wo(f),u=await Ln.importMnemonic(o);a(o.split(" ")),t(u)}catch(o){Y.error(o,{tags:{file:"PasskeyImportContextProvider.tsx",function:"importWithCredential"}});const u=o instanceof Error?o:new Error("Failed to import passkey",{cause:o});i(u)}},[a]);return r.jsx(Ls.Provider,{value:{importedAddress:e,importError:s,importWithCredential:c},children:n})}const Bs=()=>{const n=E.useContext(Ls);if(n===void 0)throw new Error("usePasskeyImportContext must be inside a PasskeyImportContextProvider");return n};function Br(n,e){try{return e.parse(n)}catch{return}}var Un=(n=>(n.PasskeyRequest="PasskeyRequest",n))(Un||{});an.extend({type:ie.literal("PasskeyRequest"),requestId:ie.string(),challengeJson:ie.string()});const bo=an.extend({type:ie.literal("PasskeySignInFlowOpened"),requestId:ie.string()}),Eo=an.extend({type:ie.literal("PasskeyCredentialRetrieved"),requestId:ie.string(),credential:ie.string()});an.extend({type:ie.literal("PasskeyCredentialError"),requestId:ie.string(),error:ie.string()});const To="/auth/passkey/extension",Io=420,Co=335;function xo(){const n=cs().state;return n!=null&&n.importPasskey?r.jsx(yo,{}):r.jsx(fi,{to:`/${V.Onboarding}`,replace:!0})}function yo(){const{t:n}=Q(),e=Zi(),{goToNextStep:t}=oe(),{importWithCredential:s}=Bs(),i=E.useRef(!1),a=(h,g)=>{Y.error(h,{tags:{file:"InitiatePasskeyAuth.tsx",function:g}}),Z(`/${V.Onboarding}/${L.SelectImportMethod}`,{replace:!0,state:{showErrorMessage:!0}})},c=E.useRef(void 0);E.useEffect(()=>{let h,g;return(async()=>{if(!i.current){i.current=!0;try{const m=ea(),l=await _s.fetchChallengeRequest({type:j.PASSKEY_AUTHENTICATION,action:He.EXPORT_SEED_PHRASE});g=async p=>{const w=Br(p,Eo);if(w){if(w.requestId!==m){Y.debug("InitiatePasskeyAuth.tsx","handleMessagePasskeyCredentialRetrieved","Mismatched request ID",{requestId:m,message:p});return}Or(c.current),s(w.credential),t()}},chrome.runtime.onMessageExternal.addListener(g),h=async(p,w,I)=>{try{Y.debug("InitiatePasskeyAuth.tsx","handleMessagePasskeySignInFlowOpened","Message received",{message:p});const y=Br(p,bo);if(!y)return;if(y.requestId!==m){Y.debug("InitiatePasskeyAuth.tsx","handleMessagePasskeySignInFlowOpened","Mismatched request ID",{requestId:m,message:p});return}Y.debug("InitiatePasskeyAuth.tsx","handleMessagePasskeySignInFlowOpened",`Sending message: ${Un.PasskeyRequest}`),I({type:Un.PasskeyRequest,requestId:m,challengeJson:l.challengeOptions})}catch(y){a(y,"handleMessagePasskeySignInFlowOpened")}},chrome.runtime.onMessageExternal.addListener(h),c.current=await ka({url:`${e}${To}?request_id=${m}`,width:Io,height:Co})}catch(m){a(m,"initiatePasskeyAuth")}}})(),()=>{Or(c.current),chrome.runtime.onMessageExternal.removeListener(h),chrome.runtime.onMessageExternal.removeListener(g)}},[]);const[f,o]=E.useState(!1);us(async()=>{var g;const h=((g=c.current)==null?void 0:g.id)??null;if(h!==null)try{await chrome.windows.get(h),o(!0)}catch{Z(`/${V.Onboarding}/${L.SelectImportMethod}`,{replace:!0})}},1e3);const u=Je(async()=>{var g;const h=((g=c.current)==null?void 0:g.id)??null;if(h!==null)try{await Aa(h,{centered:!0})}catch(d){Y.error(d,{tags:{file:"InitiatePasskeyAuth.tsx",function:"onBringWindowToFront"}})}});return r.jsxs(te,{logImpression:!0,properties:{flow:G.Passkey},screen:ae.InitiatePasskeyAuth,children:[r.jsx(T,{row:!0,position:"absolute",top:"$spacing24",right:"$spacing24",children:r.jsx(Qi,{size:"small",emphasis:"secondary",icon:r.jsx(Ra,{}),onPress:()=>Z(`/${V.Onboarding}/${L.SelectImportMethod}`)})}),r.jsxs(T,{gap:"$spacing32",centered:!0,children:[r.jsx(Xi,{size:80}),r.jsx(_,{children:n("onboarding.importPasskey.continueInSecureWindow")}),r.jsx(T,{row:!0,height:35,centered:!0,children:f?r.jsx(Qe,{emphasis:"secondary",size:"small",onPress:u,children:n("onboarding.importPasskey.bringWindowToFront")}):r.jsx(Jn,{})})]})]})}function vo({pb:n}){const{t:e}=ds();return r.jsxs(T,{centered:!0,fill:!0,gap:"$spacing40",pb:n,children:[r.jsx(Jn,{size:q.icon48}),r.jsxs(T,{centered:!0,gap:"$spacing8",children:[r.jsx(_,{color:"$neutral1",variant:"subheading1",children:e("onboarding.passkey.loading.title")}),r.jsx(_,{color:"$neutral2",variant:"subheading2",children:e("onboarding.passkey.loading.subtitle")})]})]})}function Po({address:n,onContinue:e,pb:t}){var a;const{t:s}=ds(),{data:i}=gi({params:n?{address:n}:void 0});return r.jsxs(T,{fill:!0,children:[r.jsxs(T,{centered:!0,fill:!0,gap:"$spacing24",pb:t,children:[r.jsxs(T,{centered:!0,children:[r.jsx(Kt.View,{entering:Ar.duration(300),children:r.jsx(Na,{address:n,avatarUriOverride:(a=i==null?void 0:i.metadata)==null?void 0:a.avatar,showBackground:!0,size:q.icon70})}),(i==null?void 0:i.username)&&r.jsx(Kt.View,{entering:Da.duration(300).delay(200).withInitialValues({opacity:0,transform:[{rotate:"15deg"},{translateX:0},{translateY:20}]}).springify(),children:r.jsxs(T,{row:!0,gap:"$spacing4",shadowColor:"$neutral1",shadowOpacity:.08,shadowRadius:5,shadowOffset:{width:0,height:5},borderWidth:"$spacing1",borderColor:"$surface2",borderRadius:"$rounded32",backgroundColor:"$surface1",px:"$spacing12",py:"$spacing8",transform:[{rotate:"-2deg"},{translateY:-10}],children:[r.jsx(_,{color:"$neutral1",variant:"subheading1",children:i.username}),r.jsx(Ma,{size:"$icon.24"})]})})]}),r.jsx(Kt.View,{entering:Ar.duration(300).delay(400).easing(Rr.ease),children:r.jsxs(T,{centered:!0,gap:"$spacing16",children:[r.jsx(_,{color:"$neutral1",variant:"heading3",children:s("onboarding.welcome.title")}),r.jsx(_,{color:"$neutral2",variant:"body1",children:s("onboarding.welcome.subtitle")})]})})]}),r.jsx(Kt.View,{entering:_a.duration(300).delay(400).easing(Rr.ease),children:r.jsx(T,{row:!0,children:r.jsx(Qe,{size:"large",variant:"branded",onPress:e,children:s("common.button.continue")})})})]})}const Oo=281;function Ao(){const{importedAddress:n,importError:e}=Bs(),{goToNextStep:t}=oe();return E.useEffect(()=>{e&&Z(`/${V.Onboarding}/${L.SelectImportMethod}`,{replace:!0,state:{showErrorMessage:!0}})},[e]),r.jsx(Ue,{children:r.jsx(T,{grow:!0,height:Oo,children:r.jsx(te,{logImpression:!0,properties:{flow:G.Passkey},screen:ae.PasskeyImport,children:n?r.jsx(Po,{address:n,onContinue:t}):r.jsx(vo,{})})})})}function Tn({Icon:n,title:e,subtitle:t,onPress:s}){return r.jsx(Lt,{width:"100%",shadowColor:"$shadowColor",shadowOpacity:.05,shadowRadius:8,borderWidth:1,borderColor:"$surface3",borderRadius:"$rounded20",onPress:s,children:r.jsxs(T,{row:!0,fill:!0,gap:"$spacing12",p:"$spacing12",width:"100%",children:[r.jsx(ta,{backgroundColor:"$accent2",borderRadius:"$roundedFull",height:q.icon32,width:q.icon32,children:r.jsx(n,{color:"$accent1",size:"$icon.16"})}),r.jsxs(T,{gap:"$spacing4",children:[r.jsx(_,{variant:"body2",children:e}),r.jsx(_,{color:"$neutral2",variant:"body3",children:t})]})]})})}function Ro(){const{t:n}=Q(),e=cs().state,t=e==null?void 0:e.showErrorMessage;return r.jsx(te,{logImpression:!0,properties:{flow:G.Import},screen:ae.SelectImportMethod,children:r.jsx(T,{gap:"$spacing16",children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",height:q.icon48,width:q.icon48,children:r.jsx(Ts,{color:"$neutral1",size:"$icon.24"})}),title:n("onboarding.import.selectMethod.title"),onBack:()=>Z(`/${V.Onboarding}`,{replace:!0}),children:r.jsxs(T,{gap:"$spacing12",mt:"$spacing24",width:"100%",children:[t&&r.jsx(T,{mb:"$spacing8",children:r.jsx(_,{color:"$statusCritical",variant:"body3",textAlign:"center",width:"100%",children:n("onboarding.import.selectMethod.errorMessage")})}),r.jsx(Tn,{Icon:za,title:n("onboarding.import.selectMethod.recoveryPhrase.title"),subtitle:n("onboarding.import.selectMethod.recoveryPhrase.subtitle"),onPress:()=>Z(`/${V.Onboarding}/${L.Import}`,{replace:!0})}),r.jsx(Tn,{Icon:Va,title:n("onboarding.import.selectMethod.mobileApp.title"),subtitle:n("onboarding.import.selectMethod.mobileApp.subtitle"),onPress:()=>Z(`/${V.Onboarding}/${L.Scan}`,{replace:!0})}),r.jsx(Tn,{Icon:na,title:n("onboarding.import.selectMethod.passkey.title"),subtitle:n("onboarding.import.selectMethod.passkey.subtitle"),onPress:()=>Z(`/${V.Onboarding}/${L.ImportPasskey}`,{replace:!0,state:{importPasskey:!0}})})]})})})})}function $r({width:n="100%",height:e,borderRadius:t="5px"}){return r.jsx("div",{className:"skeleton-box",style:{width:n,height:e,borderRadius:t}})}const $s=72;function ko({address:n,selected:e,balance:t,onSelect:s,hideSelectionCircle:i,...a}){const{convertFiatAmountFormatted:c}=pi(),f=c(t,hi.FiatTokenQuantity);return r.jsx(Lt,{backgroundColor:e?"$surface1":"$surface2",borderColor:e?"$surface3":"$surface2",borderRadius:"$rounded20",borderWidth:"$spacing1",minHeight:$s,p:"$spacing12",shadowColor:e?"$shadowColor":"$transparent",shadowOpacity:.05,shadowRadius:e?"$spacing8":"$none",onPress:()=>s(n),...a,children:r.jsxs(T,{fill:!0,row:!0,alignContent:"center",alignItems:"center",justifyContent:"space-between",children:[r.jsx(ra,{address:n,captionVariant:"body2",size:q.icon36}),r.jsxs(T,{row:!0,gap:"$spacing8",px:"$spacing4",pl:"$spacing12",children:[!!t&&r.jsx(_,{color:"$neutral2",variant:"body3",children:f}),!i&&e&&r.jsx(Is,{strokeWidth:6,color:"$accent1",size:"$icon.20"})]})]})})}function No({repeat:n=3}){return r.jsx(T,{fill:!0,gap:"$spacing12",children:new Array(n).fill(null).map((e,t,{length:s})=>r.jsx(Do,{opacity:(s-t)/s},t))})}function Do({opacity:n}){return r.jsx(T,{row:!0,alignItems:"center",borderColor:"$surface3",borderRadius:"$rounded20",borderWidth:"$spacing1",height:$s,justifyContent:"flex-start",opacity:n,overflow:"hidden",px:"$spacing16",py:"$spacing16",style:{boxShadow:"rgba(0, 0, 0, 0.05) 0px 0px 8px"},children:r.jsxs(T,{fill:!0,row:!0,alignItems:"center",gap:"$spacing12",children:[r.jsx(T,{backgroundColor:"$neutral3",borderRadius:"$roundedFull",height:32,opacity:.5,width:32}),r.jsxs(T,{grow:!0,alignItems:"flex-start",gap:"$spacing2",children:[r.jsx($r,{height:21,width:150}),r.jsx($r,{height:21,width:95})]})]})})}function Mo(n){return!!(n.balance&&n.balance>0||n.ensName||n.unitag)}function _o(n){const e=(n==null?void 0:n.length)!==ms,{addressInfoMap:t,isLoading:s,showError:i,refetch:a}=Lo(e?void 0:n),c=E.useMemo(()=>Object.values(t??{}).filter(Mo),[t]);return{importableAccounts:E.useMemo(()=>{if(c.length>0)return c;if(!s&&n&&n[0])return[{address:n[0]}];if(!s&&!(n!=null&&n.length))throw new Error("No imported addresses found")},[c,n,s]),isLoading:s,showError:i,refetch:a}}function Lo(n){const[e,t]=E.useState(0),s=sa(),i=E.useMemo(()=>n||[],[n]),a=i.length===0,c=E.useCallback(async()=>(t(p=>p+1),c()),[]),{ensMap:f,loading:o}=Bo(i),{gqlChains:u}=wi(),h=E.useCallback(async()=>{if(i.length===0)return;const p=i.map(N=>({ownerAddress:N,includeSmallBalances:!0,includeSpamTokens:!1})),w=s.query({query:Si,variables:{ownerAddresses:i,chains:u,valueModifiers:p}}),I=bi.fetchUnitagsByAddresses({addresses:i}),[y,C]=await Promise.all([w,I]),x=C.usernames,D=(y.data.portfolios??[]).reduce((N,R)=>{var v;return R!=null&&R.ownerAddress&&(N[R.ownerAddress]=(v=R.tokensTotalDenominatedValue)==null?void 0:v.value),N},{});return i.reduce((N,R)=>{var O;const v={address:R,balance:D[R],unitag:(O=x[R])==null?void 0:O.username};return N[v.address]=v,N},{})},[i,s,e,u]),{data:g,isLoading:d,error:m}=Ei(Cs({queryKey:[fs.BalanceAndUnitags,i],queryFn:h})),l=E.useMemo(()=>{if(g!==void 0){const p={};return Object.entries(g).forEach(([w,I])=>{p[w]={...I,ensName:f&&f[w]}}),p}},[g,f]);return E.useMemo(()=>({addressInfoMap:l,isLoading:d||o||a||l===void 0,error:m&&!(g!=null&&g.length),refetch:c}),[l,g,d,o,m,a,c])}function Bo(n){const e=E.useMemo(()=>Array(ms),[]);e[0]=ue(n[0]),e[1]=ue(n[1]),e[2]=ue(n[2]),e[3]=ue(n[3]),e[4]=ue(n[4]),e[5]=ue(n[5]),e[6]=ue(n[6]),e[7]=ue(n[7]),e[8]=ue(n[8]),e[9]=ue(n[9]);const t=e.some(i=>i==null?void 0:i.isLoading),s=E.useMemo(()=>t?{}:n.reduce((i,a,c)=>{var o;const f=(o=e[c])==null?void 0:o.data;return f&&(i[a]=f),i},{}),[n,t,e]);return{ensMap:t?void 0:s,loading:t}}function $o(n=[]){const e=E.useMemo(()=>n.map(c=>c.address),[n]),[t,s]=E.useState(e),i=c=>{t.length===1&&t.includes(c)||(t.includes(c)?s(t.filter(f=>f!==c)):s([...t,c]))},a=E.useRef(e);return E.useEffect(()=>{ia(a.current,e)||(a.current=e,s(e))},[e]),{selectedAddresses:t,toggleAddressSelection:i}}function en({flow:n}){const{t:e}=Q(),[t,s]=E.useState(!1),{goToNextStep:i,goToPreviousStep:a}=oe(),{generateAccountsAndImportAddresses:c,getGeneratedAddresses:f}=fe(),{data:o}=ss(Cs({queryFn:f,queryKey:[fs.GeneratedAddresses]})),{importableAccounts:u,isLoading:h,showError:g,refetch:d}=_o(o),{selectedAddresses:m,toggleAddressSelection:l}=$o(u),p=gs(ps.SmartWallet),w=g||m.length>0&&!h,I=Je(async()=>{w&&(s(!0),await c({selectedAddresses:m,backupType:n===G.Passkey?yr.Passkey:yr.Manual}),i(),s(!1))}),y=e(g?"onboarding.selectWallets.title.error":"onboarding.selectWallets.title.default");La(g?d:I);const C=E.useMemo(()=>p?r.jsx(Uo,{}):void 0,[p]);return r.jsx(te,{logImpression:!0,properties:{flow:n},screen:ae.SelectWallet,children:r.jsx(Ue,{belowFrameContent:C,Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",size:q.icon48,children:r.jsx(Ts,{color:"$neutral1",size:"$icon.24"})}),nextButtonEnabled:w,nextButtonIcon:t?r.jsx(Jn,{color:"$accent1",size:q.icon20}):void 0,nextButtonText:e(g?"common.button.retry":t?"onboarding.importMnemonic.button.importing":"common.button.continue"),nextButtonVariant:g?"default":"branded",nextButtonEmphasis:g||t?"secondary":"primary",title:y,onBack:a,onSubmit:g?d:I,children:r.jsx(Ba,{maxHeight:"55vh",my:"$spacing32",showsVerticalScrollIndicator:!1,width:"100%",children:r.jsx(T,{gap:"$spacing12",position:"relative",py:"$spacing4",width:"100%",children:g?r.jsx(_,{color:"$statusCritical",textAlign:"center",variant:"buttonLabel2",children:e("onboarding.selectWallets.error")}):h?r.jsx(T,{children:r.jsx(No,{repeat:3})}):u==null?void 0:u.map(x=>{const{address:D,balance:k}=x;return r.jsx(ko,{address:D,balance:k,selected:m.includes(D),onSelect:l},D)})})})})})}const jo=n=>ja({uri:n});function Uo(){const{t:n}=Q(),e=r.jsx(Fo,{});return r.jsxs(Xt,{allowFlip:!0,stayInFrame:!0,delay:{close:100,open:0},placement:"top",children:[r.jsx(T,{centered:!0,row:!0,mx:"$spacing60",mt:"$spacing8",children:r.jsx(_,{textAlign:"center",variant:"body4",color:"$neutral2",children:r.jsx($a,{components:{highlight:e},i18nKey:"account.wallet.select.smartWalletDisclaimer"})})}),r.jsxs(Xt.Content,{animationDirection:"top",pointerEvents:"auto",zIndex:Bn.overlay,children:[r.jsx(Xt.Arrow,{}),r.jsxs(T,{children:[r.jsx(_,{variant:"body4",color:"$neutral2",children:`${n("smartWallet.modal.description.block1")} ${n("smartWallet.modal.description.block2")}`}),r.jsx(Lt,{onPress:()=>jo(je.helpArticleUrls.smartWalletDelegation),children:r.jsx(_,{variant:"buttonLabel4",color:"$neutral1",mt:"$spacing4",children:n("common.button.learn")})})]})]})]})}function Fo(n){return r.jsx(T,{display:"inline-flex",children:r.jsx(Xt.Trigger,{children:r.jsx(_,{variant:"buttonLabel4",color:"$neutral1",...n,cursor:"pointer"})})})}const Jo=340,jr=400;function js({children:n,belowFrameContent:e}){return r.jsxs(T,{width:vs,children:[r.jsxs(T,{backgroundColor:"$surface1",borderColor:"$surface3",borderRadius:"$rounded32",borderWidth:"$spacing1",overflow:"hidden",shadowColor:"$shadowColor",shadowOpacity:.1,shadowRadius:16,children:[r.jsx(T,{alignItems:"center",position:"absolute",width:"100%",children:r.jsx(T,{height:jr,width:jr,children:r.jsx(aa,{})})}),r.jsx(T,{fill:!0,pb:"$spacing24",pt:Jo,px:"$spacing24",children:n})]}),e&&r.jsx(T,{fill:!0,pt:"$spacing32",children:e})]})}function Ho(){return gs(ps.EmbeddedWallet)}function qo(){return!!getComputedStyle(document.documentElement).getPropertyValue("--arc-palette-background")}function Fn(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}function Us(){return!!chrome.sidePanel&&!qo()&&!Fn()}function Wo(){const{t:n}=Q(),e=Ho(),t=Ti(Ua);return Hn(()=>{Us()||Z(`/${V.Onboarding}/${L.UnsupportedBrowser}`)},0),t?r.jsx(Rt,{}):r.jsx(te,{logImpression:!0,screen:ae.Landing,children:r.jsx(T,{centered:!0,grow:!0,justifyContent:"center",children:r.jsxs(js,{belowFrameContent:r.jsx(T,{px:80,children:r.jsx(Ia,{})}),children:[r.jsxs(T,{gap:"$spacing12",pb:"$spacing16",pt:"$spacing32",children:[r.jsx(T,{row:!0,backgroundColor:"$surface1",borderRadius:"$rounded16",children:r.jsx(Qe,{variant:"branded",onPress:()=>Z(`/${V.Onboarding}/${L.Create}`),children:n(e?"onboarding.landing.button.createAccount":"onboarding.landing.button.create")})}),r.jsx(T,{row:!0,children:r.jsx(Qe,{emphasis:"secondary",onPress:()=>Z(`/${V.Onboarding}/${e?L.SelectImportMethod:L.Import}`),children:n(e?"onboarding.intro.button.logInOrImport":"onboarding.intro.button.alreadyHave")})})]}),e?null:r.jsxs(r.Fragment,{children:[r.jsxs(T,{row:!0,alignItems:"center",gap:"$spacing16",py:"$spacing4",children:[r.jsx(T,{fill:!0,backgroundColor:"$surface3",height:1}),r.jsx(_,{color:"$neutral3",variant:"body3",children:n("onboarding.intro.mobileScan.title")}),r.jsx(T,{fill:!0,backgroundColor:"$surface3",height:1})]}),r.jsx(Ns,{fill:!0})]})]})})})}function Fs(){const{t:n}=Q(),e=Fn()?n("onboarding.extension.unsupported.android.title"):n("onboarding.extension.unsupported.title"),t=Fn()?n("onboarding.extension.unsupported.android.description"):n("onboarding.extension.unsupported.description");return r.jsx(te,{logImpression:!0,screen:Ii.UnsupportedBrowserScreen,children:r.jsx(T,{centered:!0,grow:!0,gap:"$spacing16",justifyContent:"center",children:r.jsx(js,{children:r.jsx(T,{fill:!0,justifyContent:"flex-end",children:r.jsxs(T,{row:!0,alignItems:"flex-start",backgroundColor:"$surface2",borderRadius:"$rounded16",gap:"$spacing12",p:"$spacing12",children:[r.jsx(T,{backgroundColor:"$surface3",borderRadius:"$rounded12",p:10,children:r.jsx(Fa,{size:"$icon.20"})}),r.jsxs(T,{fill:!0,gap:"$spacing2",children:[r.jsx(_,{color:"$neutral1",variant:"body3",children:e}),r.jsx(_,{color:"$neutral2",variant:"body3",children:t})]})]})})})})})}const Go=E.lazy(()=>Xs(()=>import("./DevMenuScreen-CNhqDNmv.js").then(n=>n.h),__vite__mapDeps([0,1,2,3,4,5,6])).then(n=>({default:n.DevMenuScreen})));function Ko(){const{value:n,setTrue:e,setFalse:t}=Ja(!1);return r.jsxs(r.Fragment,{children:[r.jsx(T,{"$platform-web":{position:"fixed"},bottom:"$spacing24",p:"$spacing4",left:"$spacing24",zIndex:Number.MAX_SAFE_INTEGER,borderWidth:1,borderColor:"$neutral2",borderRadius:"$rounded4",cursor:"pointer",backgroundColor:"$surface1",hoverStyle:{backgroundColor:"$surface1Hovered"},onPress:e,children:r.jsx(Ha,{size:"$icon.24",color:"$neutral2"})}),n&&r.jsx(qa,{name:Ci.FeatureFlags,onClose:t,children:r.jsx(E.Suspense,{children:r.jsx(Go,{})})})]})}const zo="/assets/onboarding-background-light-DluTmhQD.png",Vo="/assets/onboarding-background-dark-DlkEe3iO.png",Yo=zo,Zo=Vo;function Qo(){const n=xi(),[e,t]=E.useState(!1);return yi(),E.useEffect(()=>Dn.addMessageListener(Mn.HighlightOnboardingTab,s=>{t(!0),setTimeout(()=>t(!1),200)}),[]),r.jsxs(vi,{children:[!ls()&&r.jsx(Ko,{}),r.jsx(oa,{isOnboarding:!0}),r.jsxs(T,{alignItems:"center",backgroundColor:e?"$DEP_accentSoft":"$transparent",justifyContent:"center",minHeight:"100vh",width:"100%",children:[!e&&r.jsx(nn,{height:"100%",position:"absolute",resizeMode:"cover",source:n?Zo:Yo,width:"100%"}),r.jsx(Pi,{})]})]})}function tn({flow:n,allowBack:e=!0}){const{goToNextStep:t,goToPreviousStep:s}=oe(),{getOnboardingAccountMnemonicString:i,generateInitialAddresses:a,importMnemonicToKeychain:c}=fe(),f=i();E.useEffect(()=>{a().catch(u=>{Y.error(u,{tags:{file:"PasswordImport.tsx",function:"generateInitialAddresses"}})})},[]);const o=E.useCallback(async u=>{const{validMnemonic:h}=jn(f);if(!h)throw new Error("Mnemonic are invalid on PasswordImport screen");t(),await c({mnemonic:h,password:u,allowOverwrite:!0})},[f,t,c]);return r.jsx(ks,{flow:n,onBack:e?s:void 0,onComplete:o})}function Js(){const{t:n}=Q();return Rs({callback:Ss}),r.jsx(r.Fragment,{children:r.jsxs(T,{centered:!0,gap:"$spacing24",children:[r.jsx(T,{backgroundColor:"$statusSuccess2",borderRadius:"$roundedFull",p:"$spacing16",children:r.jsx(Is,{color:"$statusSuccess",size:"$icon.36"})}),r.jsxs(T,{alignItems:"center",gap:"$spacing4",children:[r.jsx(_,{variant:"heading3",children:n("onboarding.resetPassword.complete.title")}),r.jsx(_,{color:"$neutral2",variant:"body2",children:n("onboarding.resetPassword.complete.subtitle")})]}),r.jsx(Oi,{style:{textDecoration:"none"},target:"_blank",to:je.helpArticleUrls.walletSecurityMeasures,children:r.jsxs(T,{row:!0,alignItems:"center",gap:"$spacing8",children:[r.jsx(Ka,{color:"$neutral3",size:"$icon.20"}),r.jsx(_,{color:"$neutral3",variant:"buttonLabel2",children:n("onboarding.resetPassword.complete.safety")})]})})]})})}const Xo={name:"RSA-OAEP",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"};async function el(n){return await window.crypto.subtle.exportKey("jwk",n)}function tl({uuid:n,publicKey:e,vendor:t,model:s,browser:i}){let a=`uniswap://scantastic?pubKey=${JSON.stringify(e)}&uuid=${encodeURIComponent(n)}`;return t&&(a=a.concat(`&vendor=${encodeURIComponent(t)}`)),s&&(a=a.concat(`&model=${encodeURIComponent(s)}`)),i&&(a=a.concat(`&browser=${encodeURIComponent(i)}`)),a}function nl(n){const e=window.atob(n),t=e.length,s=new Uint8Array(t);for(let i=0;i<t;i++)s[i]=e.charCodeAt(i);return s.buffer}async function rl(n,e){const t=nl(e);try{const s=await window.crypto.subtle.decrypt({name:"RSA-OAEP"},n,t);return new TextDecoder().decode(s)}catch(s){return Y.error(s,{tags:{file:"scan/utils.ts",function:"decryptMessage"}}),""}}const Hs=de.object({uuid:de.string({required_error:"UUID is required"}).uuid("Invalid UUID"),publicKey:de.object({alg:de.literal("RSA-OAEP-256",{required_error:"Algorithm is required",invalid_type_error:"Invalid algorithm"}),kty:de.literal("RSA",{required_error:"Key type is required",invalid_type_error:"Invalid key type"}),n:de.string({required_error:"Modulus is required"}).min(1,"Modulus is required"),e:de.literal("AQAB",{required_error:"Public exponent is required",invalid_type_error:"Invalid public exponent"})},{required_error:"Public key is required"}),vendor:de.string().nullish(),model:de.string().nullish(),browser:de.string().nullish()}),sl=Hs.shape.uuid,qs=E.createContext(void 0);function il({children:n}){const{isResetting:e}=oe(),[t,s]=E.useState(!0),[i,a]=E.useState(null),[c,f]=E.useState(null),[o,u]=E.useState(null),[h,g]=E.useState(Date.now()+20*Zt),d=E.useCallback(()=>{a(null),f(null),u(null),g(Date.now()+Qt),Z(`/${V.Onboarding}/${e?L.ResetScan:L.Scan}`,{replace:!0})},[e]);return E.useEffect(()=>{async function m(){if(o)return;try{const{publicKey:w,privateKey:I}=await window.crypto.subtle.generateKey(Xo,!0,["encrypt","decrypt"]),y=await el(w);a(y),f(I)}catch(w){Y.error(w,{tags:{file:"OnboardingContextProvider.tsx",function:"getSessionUUID->generateKeyPair"}})}const l=await fetch(`${je.scantasticApiUrl}/uuid`,{method:"POST",headers:{Accept:"application/json"}});if(!l.ok)throw new Error(`Failed to fetch uuid for mobile->ext onboarding: ${await l.text()}`);const p=await l.json();if(!p.uuid)throw new Error("Missing uuid from onboarding session initiation request.");try{const w=sl.parse(p.uuid);u(w)}catch{throw new Error("Invalid uuid from onboarding session initiation request.")}p.expiresAtInSeconds&&g(p.expiresAtInSeconds*kt)}s(!0),m().catch(l=>{Y.error(l,{tags:{file:"OnboardingContextProvider.tsx",function:"getSessionUUID"}})}).finally(()=>{s(!1)})},[o]),r.jsx(qs.Provider,{value:{isLoadingUUID:t,privateKey:c,publicKey:i,sessionUUID:o,resetScantastic:d,expirationTimestamp:h,setExpirationTimestamp:g},children:n})}const Ws=()=>{const n=E.useContext(qs);if(n===void 0)throw new Error("useScantasticContext must be inside a ScantasticContextProvider");return n};function al(n){const e=n-Date.now(),t=e<0,s=Math.abs(e),i=Math.floor(s%Zt/kt);if(s<Zt)return{seconds:i,isPast:t};const a=Math.floor(s%bn/Zt);if(s<bn)return{seconds:i,minutes:a,isPast:t};const c=Math.floor(s%Qt/bn);if(s<Qt)return{seconds:i,minutes:a,hours:c,isPast:t};const f=Math.floor(s/Qt);return{seconds:i,minutes:a,hours:c,days:f,isPast:t}}function Ur(n){if(n-Date.now()<=0)return Wt.t("scantastic.code.expired");const{seconds:t,minutes:s,hours:i}=al(n);return s?i?Wt.t("scantastic.code.timeRemaining.shorthand.hours",{seconds:t,minutes:s,hours:i}):Wt.t("scantastic.code.timeRemaining.shorthand.minutes",{seconds:t,minutes:s}):Wt.t("scantastic.code.timeRemaining.shorthand.seconds",{seconds:t})}const ol=3,Vt=["","","","","",""];function ll(){const{t:n}=Q(),{goToNextStep:e,goToPreviousStep:t}=oe(),{addOnboardingAccountMnemonic:s}=fe(),{privateKey:i,resetScantastic:a,sessionUUID:c,expirationTimestamp:f}=Ws(),o=E.useCallback(()=>{a(),t()},[t,a]),[u,h]=E.useState(Ur(f)),g=E.useCallback(()=>{const v=Ur(f);h(v)},[f]);us(g,kt),(!c||!i)&&o();const[d,m]=E.useState(!1),[l,p]=E.useState(!1),[w,I]=E.useState(0),[y,C]=E.useState(Vt),x=E.useRef([]);x.current=new Array(6).fill(null).map((v,O)=>x.current[O]||E.createRef());const D=E.useCallback(async v=>{s(v),e()},[e,s]);E.useEffect(()=>{l&&!Ai(y,Vt)&&C(Vt)},[l,y]);const k=E.useCallback(async()=>{if(!i||!c)return;p(!1),m(!0);const v=await fetch(`${je.scantasticApiUrl}/otp`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:c,otp:y.join("")})});if(!v.ok)throw C(Vt),new Error(`Failed to submit OTP: ${await v.text()}`);const O=await v.json();if(!O.encryptedSeed){if(O.OTPFailedAttempts)if(Number(O.OTPFailedAttempts)===ol){o();return}else{I(O.OTPFailedAttempts);return}throw new Error(`fetch(${je.scantasticApiUrl}/otp failed to include an encrypted seed`)}const K=(await rl(i,O.encryptedSeed)).split(" "),z=Array(24).fill("").map((X,ze)=>K[ze]||"").filter(X=>!!X);await D(z)},[i,c,y,D,o]),N=E.useCallback(v=>O=>{var K,z,X,ze;p(!1);const W=[...y];W[v]=O.nativeEvent.text,C(W),((K=W[v])==null?void 0:K.length)===1&&((z=x.current[v+1])!=null&&z.current)&&((ze=(X=x.current[v+1])==null?void 0:X.current)==null||ze.focus())},[y]),R=E.useCallback(v=>O=>{var W,K;v!==0&&O.nativeEvent.key==="Backspace"&&((K=(W=x.current[v-1])==null?void 0:W.current)==null||K.focus())},[]);return E.useEffect(()=>{y.every(O=>O!=="")&&!d&&!l&&k().catch(O=>{var W,K;(K=(W=x.current[0])==null?void 0:W.current)==null||K.focus(),Y.error(O,{tags:{file:"OTPInput.tsx",function:"submitOTP"},extra:{uuid:c}}),p(!0)}).finally(()=>{m(!1)})},[y,d,l,c,k]),Hn(o,f-Date.now()),r.jsx(te,{logImpression:!0,properties:{flow:G.Scantastic},screen:ae.EnterOTP,children:r.jsx(Ue,{Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",height:q.icon48,width:q.icon48,children:r.jsx(As,{color:"$neutral1",size:"$icon.24"})}),nextButtonEnabled:!1,nextButtonText:u,nextButtonVariant:"default",nextButtonEmphasis:"secondary",subtitle:n("onboarding.scan.otp.subtitle"),title:n("onboarding.scan.otp.title"),onBack:o,onSubmit:()=>{},children:r.jsxs(T,{gap:"$spacing16",mb:"$spacing60",mt:"$spacing48",children:[r.jsx(T,{alignContent:"center",alignItems:"center",flexDirection:"row",gap:"$spacing8",position:"relative",children:y.map((v,O)=>r.jsx(Ps,{ref:x.current[O],autoFocus:O===0,backgroundColor:v?"$surface1":"$surface2",borderColor:"$surface3",borderRadius:"$rounded16",borderWidth:"$spacing1",disabled:d,focusStyle:$n.inputFocus,fontSize:_n.heading3.fontSize,height:"$spacing60",hoverStyle:$n.inputHover,maxLength:1,p:"$spacing20",placeholderTextColor:"$neutral3",textAlign:"center",value:v,width:"$spacing60",onChange:N(O),onKeyPress:R(O)},O))}),l&&r.jsx(_,{color:"$statusCritical",textAlign:"center",variant:"body2",children:n("onboarding.scan.otp.error")}),w>0&&r.jsx(_,{color:"$statusCritical",textAlign:"center",variant:"body2",children:n("onboarding.scan.otp.failed",{number:w})})]})})})}const cl=function(n,e=2,t=!1,s,i){"worklet";return xs(n,()=>{"worklet";const a=typeof n=="function"?n():n;function c(u,h){const g=a.onFrame(a,h);if(u.current=a.current,g){if(u.reps+=1,a.callback&&a.callback(!0,u.current),u.reduceMotion||e>0&&u.reps>=e)return!0;const d=t?a.current:u.startValue;return t&&(a.toValue=u.startValue,u.startValue=d),a.onStart(a,d,h,a.previousAnimation),!1}return!1}const f=u=>{!u&&a.callback&&a.callback(!1)};function o(u,h,g,d){u.startValue=h,u.reps=0,a.reduceMotion===void 0&&(a.reduceMotion=u.reduceMotion),u.reduceMotion&&t&&(e<=0||e%2===0)?(u.current=u.startValue,u.onFrame=()=>!0):a.onStart(a,h,g,d)}return{isHigherOrder:!0,onFrame:c,onStart:o,reps:0,current:a.current,callback:f,startValue:0,reduceMotion:ys(i)}})};function ul(n){"worklet";var t,s;let e="";return["stiffness","damping","dampingRatio","restDisplacementThreshold","restSpeedThreshold","mass"].forEach(i=>{const a=n[i];a<=0&&(e+=`, ${i} must be grater than zero but got ${a}`)}),n.duration<0&&(e+=`, duration can't be negative, got ${n.duration}`),(t=n.clamp)!=null&&t.min&&((s=n.clamp)!=null&&s.max)&&n.clamp.min>n.clamp.max&&(e+=`, clamp.min should be lower than clamp.max, got clamp: {min: ${n.clamp.min}, max: ${n.clamp.max}} `),e!==""&&la.warn("Invalid spring config"+e),e===""}function dl({min:n,max:e,func:t,maxIterations:s=20}){"worklet";let a=s,c=(e+n)/2;for(;Math.abs(t(c))>5e-5&&a>0;)a-=1,t(c)<0?n=c:e=c,c=(n+e)/2;return c}function ml(n=0,e){"worklet";if(e.skipAnimation)return{zeta:0,omega0:0,omega1:0};if(e.useDuration){const{stiffness:t,dampingRatio:s}=e,i=Math.sqrt(t/n),a=i*Math.sqrt(1-s**2);return{zeta:s,omega0:i,omega1:a}}else{const{damping:t,mass:s,stiffness:i}=e,a=t/(2*Math.sqrt(i*s)),c=Math.sqrt(i/s),f=c*Math.sqrt(1-a**2);return{zeta:a,omega0:c,omega1:f}}}function fl(n,e){"worklet";const{zeta:t,toValue:s,startValue:i}=n,a=Number(s);if(a===i)return t;const[c,f]=a-i>0?[e.min,e.max]:[e.max,e.min],o=f!==void 0?Math.abs((f-a)/(a-i)):void 0,u=c!==void 0?Math.abs((c-a)/(a-i)):void 0,h=o!==void 0?Math.abs(Math.log(o)/Math.PI):void 0,g=u!==void 0?Math.abs(Math.log(u)/(2*Math.PI)):void 0,d=[h,g].filter(m=>m!==void 0);return Math.max(...d,t)}function gl(n,e,t){"worklet";if(e.skipAnimation)return 0;const{stiffness:s,dampingRatio:i,restSpeedThreshold:a,duration:c}=e;return dl({min:0,max:100,func:o=>{"worklet";const u=(o*t*t+s*n*n)/(Math.exp(1-.5*i)*s),h=i*2*Math.sqrt(s*o);return 1e3*(-2*o/h)*Math.log(a*.01/u)-c}})}function pl(n,e){"worklet";const{toValue:t}=n,{v0:s,x0:i,omega0:a,t:c}=e,f=Math.exp(-a*c),o=t-f*(i+(s+a*i)*c),u=f*(s*(c*a-1)+c*i*a*a);return{position:o,velocity:u}}function hl(n,e){"worklet";const{toValue:t,current:s,velocity:i}=n,{zeta:a,t:c,omega0:f,omega1:o}=e,u=-i,h=t-s,g=Math.sin(o*c),d=Math.cos(o*c),m=Math.exp(-a*f*c),l=m*(g*((u+a*f*h)/o)+h*d),p=t-l,w=a*f*l-m*(d*(u+a*f*h)-o*h*g);return{position:p,velocity:w}}function wl(n,e){"worklet";const{toValue:t,velocity:s,startValue:i,current:a}=n,c=e.overshootClamping?a>t&&i<t||a<t&&i>t:!1,f=Math.abs(s)<e.restSpeedThreshold,o=Math.abs(t-a)<e.restDisplacementThreshold;return{isOvershooting:c,isVelocity:f,isDisplacement:o}}const Fr=(n,e,t)=>{"worklet";return xs(n,()=>{"worklet";const i={...{damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0,duration:2e3,dampingRatio:.5,reduceMotion:void 0,clamp:void 0},...e,useDuration:!!(e!=null&&e.duration||e!=null&&e.dampingRatio),skipAnimation:!1};i.skipAnimation=!ul(i),i.duration===0&&(i.skipAnimation=!0);function a(o,u){const{toValue:h,startTimestamp:g,current:d}=o,m=u-g;if(i.useDuration&&m>=i.duration||i.skipAnimation)return o.current=h,o.lastTimestamp=0,!0;const{lastTimestamp:l,velocity:p}=o,w=Math.min(u-l,64);o.lastTimestamp=u;const I=w/1e3,y=-p,C=h-d,{zeta:x,omega0:D,omega1:k}=o,{position:N,velocity:R}=x<1?hl(o,{zeta:x,omega0:D,omega1:k,t:I}):pl(o,{v0:y,x0:C,omega0:D,t:I});o.current=N,o.velocity=R;const{isOvershooting:v,isVelocity:O,isDisplacement:W}=wl(o,i),K=v||O&&W;return!i.useDuration&&K?(o.velocity=0,o.current=h,o.lastTimestamp=0,!0):!1}function c(o,u){return(o==null?void 0:o.lastTimestamp)&&(o==null?void 0:o.startTimestamp)&&(o==null?void 0:o.toValue)===u.toValue&&(o==null?void 0:o.duration)===u.duration&&(o==null?void 0:o.dampingRatio)===u.dampingRatio}function f(o,u,h,g){o.current=u,o.startValue=u;let d=i.mass;const m=c(g,o),l=i.duration,p=m?g==null?void 0:g.startValue:Number(o.toValue)-u;if(g?o.velocity=(m?g==null?void 0:g.velocity:(g==null?void 0:g.velocity)+i.velocity)||0:o.velocity=i.velocity||0,m)o.zeta=(g==null?void 0:g.zeta)||0,o.omega0=(g==null?void 0:g.omega0)||0,o.omega1=(g==null?void 0:g.omega1)||0;else{if(i.useDuration){const C=m?l-(((g==null?void 0:g.lastTimestamp)||0)-((g==null?void 0:g.startTimestamp)||0)):l;i.duration=C,d=gl(p,i,o.velocity)}const{zeta:w,omega0:I,omega1:y}=ml(d,i);o.zeta=w,o.omega0=I,o.omega1=y,i.clamp!==void 0&&(o.zeta=fl(o,i.clamp))}o.lastTimestamp=(g==null?void 0:g.lastTimestamp)||h,o.startTimestamp=m&&(g==null?void 0:g.startTimestamp)||h}return{onFrame:a,onStart:f,toValue:n,velocity:i.velocity||0,current:n,startValue:0,callback:t,lastTimestamp:0,startTimestamp:0,zeta:0,omega0:0,omega1:0,reduceMotion:ys(i.reduceMotion)}})};var Ye={},In,Jr;function Gs(){return Jr||(Jr=1,In={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),In}var Cn,Hr;function Sl(){if(Hr)return Cn;Hr=1;var n=Gs();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var s=0;s<this.data.length;s++)t.put(this.data.charCodeAt(s),8)}},Cn=e,Cn}var xn,qr;function Ks(){return qr||(qr=1,xn={L:1,M:0,Q:3,H:2}),xn}var yn,Wr;function bl(){if(Wr)return yn;Wr=1;var n=Ks();function e(t,s){this.totalCount=t,this.dataCount=s}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,s){var i=e.getRsBlockTable(t,s);if(i==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+s);for(var a=i.length/3,c=new Array,f=0;f<a;f++)for(var o=i[f*3+0],u=i[f*3+1],h=i[f*3+2],g=0;g<o;g++)c.push(new e(u,h));return c},e.getRsBlockTable=function(t,s){switch(s){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},yn=e,yn}var vn,Gr;function El(){if(Gr)return vn;Gr=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var s=0;s<t;s++)this.putBit((e>>>t-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},vn=n,vn}var Pn,Kr;function zs(){if(Kr)return Pn;Kr=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return Pn=n,Pn}var On,zr;function Vs(){if(zr)return On;zr=1;var n=zs();function e(t,s){if(t.length==null)throw new Error(t.length+"/"+s);for(var i=0;i<t.length&&t[i]==0;)i++;this.num=new Array(t.length-i+s);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var s=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)s[i+a]^=n.gexp(n.glog(this.get(i))+n.glog(t.get(a)));return new e(s,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var s=n.glog(this.get(0))-n.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<t.getLength();a++)i[a]^=n.gexp(n.glog(t.get(a))+s);return new e(i,0).mod(t)}},On=e,On}var An,Vr;function Tl(){if(Vr)return An;Vr=1;var n=Gs(),e=Vs(),t=zs(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var c=a<<10;i.getBCHDigit(c)-i.getBCHDigit(i.G15)>=0;)c^=i.G15<<i.getBCHDigit(c)-i.getBCHDigit(i.G15);return(a<<10|c)^i.G15_MASK},getBCHTypeNumber:function(a){for(var c=a<<12;i.getBCHDigit(c)-i.getBCHDigit(i.G18)>=0;)c^=i.G18<<i.getBCHDigit(c)-i.getBCHDigit(i.G18);return a<<12|c},getBCHDigit:function(a){for(var c=0;a!=0;)c++,a>>>=1;return c},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,c,f){switch(a){case s.PATTERN000:return(c+f)%2==0;case s.PATTERN001:return c%2==0;case s.PATTERN010:return f%3==0;case s.PATTERN011:return(c+f)%3==0;case s.PATTERN100:return(Math.floor(c/2)+Math.floor(f/3))%2==0;case s.PATTERN101:return c*f%2+c*f%3==0;case s.PATTERN110:return(c*f%2+c*f%3)%2==0;case s.PATTERN111:return(c*f%3+(c+f)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var c=new e([1],0),f=0;f<a;f++)c=c.multiply(new e([1,t.gexp(f)],0));return c},getLengthInBits:function(a,c){if(1<=c&&c<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(c<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(c<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+c)},getLostPoint:function(a){for(var c=a.getModuleCount(),f=0,o=0;o<c;o++)for(var u=0;u<c;u++){for(var h=0,g=a.isDark(o,u),d=-1;d<=1;d++)if(!(o+d<0||c<=o+d))for(var m=-1;m<=1;m++)u+m<0||c<=u+m||d==0&&m==0||g==a.isDark(o+d,u+m)&&h++;h>5&&(f+=3+h-5)}for(var o=0;o<c-1;o++)for(var u=0;u<c-1;u++){var l=0;a.isDark(o,u)&&l++,a.isDark(o+1,u)&&l++,a.isDark(o,u+1)&&l++,a.isDark(o+1,u+1)&&l++,(l==0||l==4)&&(f+=3)}for(var o=0;o<c;o++)for(var u=0;u<c-6;u++)a.isDark(o,u)&&!a.isDark(o,u+1)&&a.isDark(o,u+2)&&a.isDark(o,u+3)&&a.isDark(o,u+4)&&!a.isDark(o,u+5)&&a.isDark(o,u+6)&&(f+=40);for(var u=0;u<c;u++)for(var o=0;o<c-6;o++)a.isDark(o,u)&&!a.isDark(o+1,u)&&a.isDark(o+2,u)&&a.isDark(o+3,u)&&a.isDark(o+4,u)&&!a.isDark(o+5,u)&&a.isDark(o+6,u)&&(f+=40);for(var p=0,u=0;u<c;u++)for(var o=0;o<c;o++)a.isDark(o,u)&&p++;var w=Math.abs(100*p/c/c-50)/5;return f+=w*10,f}};return An=i,An}var Rn,Yr;function Il(){if(Yr)return Rn;Yr=1;var n=Sl(),e=bl(),t=El(),s=Tl(),i=Vs();function a(f,o){this.typeNumber=f,this.errorCorrectLevel=o,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=a.prototype;return c.addData=function(f){var o=new n(f);this.dataList.push(o),this.dataCache=null},c.isDark=function(f,o){if(f<0||this.moduleCount<=f||o<0||this.moduleCount<=o)throw new Error(f+","+o);return this.modules[f][o]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var o=e.getRSBlocks(f,this.errorCorrectLevel),u=new t,h=0,g=0;g<o.length;g++)h+=o[g].dataCount;for(var g=0;g<this.dataList.length;g++){var d=this.dataList[g];u.put(d.mode,4),u.put(d.getLength(),s.getLengthInBits(d.mode,f)),d.write(u)}if(u.getLengthInBits()<=h*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(f,o){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++)this.modules[u][h]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,o),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},c.setupPositionProbePattern=function(f,o){for(var u=-1;u<=7;u++)if(!(f+u<=-1||this.moduleCount<=f+u))for(var h=-1;h<=7;h++)o+h<=-1||this.moduleCount<=o+h||(0<=u&&u<=6&&(h==0||h==6)||0<=h&&h<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=h&&h<=4?this.modules[f+u][o+h]=!0:this.modules[f+u][o+h]=!1)},c.getBestMaskPattern=function(){for(var f=0,o=0,u=0;u<8;u++){this.makeImpl(!0,u);var h=s.getLostPoint(this);(u==0||f>h)&&(f=h,o=u)}return o},c.createMovieClip=function(f,o,u){var h=f.createEmptyMovieClip(o,u),g=1;this.make();for(var d=0;d<this.modules.length;d++)for(var m=d*g,l=0;l<this.modules[d].length;l++){var p=l*g,w=this.modules[d][l];w&&(h.beginFill(0,100),h.moveTo(p,m),h.lineTo(p+g,m),h.lineTo(p+g,m+g),h.lineTo(p,m+g),h.endFill())}return h},c.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var o=8;o<this.moduleCount-8;o++)this.modules[6][o]==null&&(this.modules[6][o]=o%2==0)},c.setupPositionAdjustPattern=function(){for(var f=s.getPatternPosition(this.typeNumber),o=0;o<f.length;o++)for(var u=0;u<f.length;u++){var h=f[o],g=f[u];if(this.modules[h][g]==null)for(var d=-2;d<=2;d++)for(var m=-2;m<=2;m++)d==-2||d==2||m==-2||m==2||d==0&&m==0?this.modules[h+d][g+m]=!0:this.modules[h+d][g+m]=!1}},c.setupTypeNumber=function(f){for(var o=s.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var h=!f&&(o>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=h}for(var u=0;u<18;u++){var h=!f&&(o>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=h}},c.setupTypeInfo=function(f,o){for(var u=this.errorCorrectLevel<<3|o,h=s.getBCHTypeInfo(u),g=0;g<15;g++){var d=!f&&(h>>g&1)==1;g<6?this.modules[g][8]=d:g<8?this.modules[g+1][8]=d:this.modules[this.moduleCount-15+g][8]=d}for(var g=0;g<15;g++){var d=!f&&(h>>g&1)==1;g<8?this.modules[8][this.moduleCount-g-1]=d:g<9?this.modules[8][15-g-1+1]=d:this.modules[8][15-g-1]=d}this.modules[this.moduleCount-8][8]=!f},c.mapData=function(f,o){for(var u=-1,h=this.moduleCount-1,g=7,d=0,m=this.moduleCount-1;m>0;m-=2)for(m==6&&m--;;){for(var l=0;l<2;l++)if(this.modules[h][m-l]==null){var p=!1;d<f.length&&(p=(f[d]>>>g&1)==1);var w=s.getMask(o,h,m-l);w&&(p=!p),this.modules[h][m-l]=p,g--,g==-1&&(d++,g=7)}if(h+=u,h<0||this.moduleCount<=h){h-=u,u=-u;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(f,o,u){for(var h=e.getRSBlocks(f,o),g=new t,d=0;d<u.length;d++){var m=u[d];g.put(m.mode,4),g.put(m.getLength(),s.getLengthInBits(m.mode,f)),m.write(g)}for(var l=0,d=0;d<h.length;d++)l+=h[d].dataCount;if(g.getLengthInBits()>l*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+l*8+")");for(g.getLengthInBits()+4<=l*8&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=l*8||(g.put(a.PAD0,8),g.getLengthInBits()>=l*8));)g.put(a.PAD1,8);return a.createBytes(g,h)},a.createBytes=function(f,o){for(var u=0,h=0,g=0,d=new Array(o.length),m=new Array(o.length),l=0;l<o.length;l++){var p=o[l].dataCount,w=o[l].totalCount-p;h=Math.max(h,p),g=Math.max(g,w),d[l]=new Array(p);for(var I=0;I<d[l].length;I++)d[l][I]=255&f.buffer[I+u];u+=p;var y=s.getErrorCorrectPolynomial(w),C=new i(d[l],y.getLength()-1),x=C.mod(y);m[l]=new Array(y.getLength()-1);for(var I=0;I<m[l].length;I++){var D=I+x.getLength()-m[l].length;m[l][I]=D>=0?x.get(D):0}}for(var k=0,I=0;I<o.length;I++)k+=o[I].totalCount;for(var N=new Array(k),R=0,I=0;I<h;I++)for(var l=0;l<o.length;l++)I<d[l].length&&(N[R++]=d[l][I]);for(var I=0;I<g;I++)for(var l=0;l<o.length;l++)I<m[l].length&&(N[R++]=m[l][I]);return N},Rn=a,Rn}var Yt={},Zr;function Cl(){if(Zr)return Yt;Zr=1,Object.defineProperty(Yt,"__esModule",{value:!0});var n=Object.assign||function(h){for(var g=1;g<arguments.length;g++){var d=arguments[g];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])}return h},e=Os(),t=a(e),s=hs(),i=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function c(h,g){var d={};for(var m in h)g.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m]);return d}var f={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},o={title:void 0,xmlns:"http://www.w3.org/2000/svg"},u=(0,s.forwardRef)(function(h,g){var d=h.bgColor,m=h.bgD,l=h.fgD,p=h.fgColor,w=h.size,I=h.title,y=h.viewBoxSize,C=c(h,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return i.default.createElement("svg",n({},C,{height:w,ref:g,viewBox:"0 0 "+y+" "+y,width:w}),I?i.default.createElement("title",null,I):null,i.default.createElement("path",{d:m,fill:d}),i.default.createElement("path",{d:l,fill:p}))});return u.displayName="QRCodeSvg",u.propTypes=f,u.defaultProps=o,Yt.default=u,Yt}var Qr;function xl(){if(Qr)return Ye;Qr=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.QRCode=void 0;var n=Object.assign||function(w){for(var I=1;I<arguments.length;I++){var y=arguments[I];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(w[C]=y[C])}return w},e=Il(),t=g(e),s=Ks(),i=g(s),a=Os(),c=g(a),f=hs(),o=g(f),u=Cl(),h=g(u);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,I){var y={};for(var C in w)I.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(w,C)&&(y[C]=w[C]);return y}var m={bgColor:c.default.oneOfType([c.default.object,c.default.string]),fgColor:c.default.oneOfType([c.default.object,c.default.string]),level:c.default.string,size:c.default.number,value:c.default.string.isRequired},l={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},p=(0,f.forwardRef)(function(w,I){var y=w.bgColor,C=w.fgColor,x=w.level,D=w.size,k=w.value,N=d(w,["bgColor","fgColor","level","size","value"]),R=new t.default(-1,i.default[x]);R.addData(k),R.make();var v=R.modules;return o.default.createElement(h.default,n({},N,{bgColor:y,bgD:v.map(function(O,W){return O.map(function(K,z){return K?"":"M "+z+" "+W+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:C,fgD:v.map(function(O,W){return O.map(function(K,z){return K?"M "+z+" "+W+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:I,size:D,viewBoxSize:v.length}))});return Ye.QRCode=p,p.displayName="QRCode",p.propTypes=m,p.defaultProps=l,Ye.default=p,Ye}var yl=xl();const vl=ws(yl);var At={exports:{}},Pl=At.exports,Xr;function Ol(){return Xr||(Xr=1,(function(n,e){(function(t,s){var i="1.0.37",a="",c="?",f="function",o="undefined",u="object",h="string",g="major",d="model",m="name",l="type",p="vendor",w="version",I="architecture",y="console",C="mobile",x="tablet",D="smarttv",k="wearable",N="embedded",R=500,v="Amazon",O="Apple",W="ASUS",K="BlackBerry",z="Browser",X="Chrome",ze="Edge",$t="Firefox",jt="Google",pr="Huawei",cn="LG",un="Microsoft",hr="Motorola",Ut="Opera",Ft="Samsung",wr="Sharp",Jt="Sony",dn="Xiaomi",mn="Zebra",Sr="Facebook",br="Chromium OS",Er="Mac OS",Ys=function(M,$){var A={};for(var H in M)$[H]&&$[H].length%2===0?A[H]=$[H].concat(M[H]):A[H]=M[H];return A},Ht=function(M){for(var $={},A=0;A<M.length;A++)$[M[A].toUpperCase()]=M[A];return $},Tr=function(M,$){return typeof M===h?Xe($).indexOf(Xe(M))!==-1:!1},Xe=function(M){return M.toLowerCase()},Zs=function(M){return typeof M===h?M.replace(/[^\d\.]/g,a).split(".")[0]:s},fn=function(M,$){if(typeof M===h)return M=M.replace(/^\s\s*/,a),typeof $===o?M:M.substring(0,R)},et=function(M,$){for(var A=0,H,Fe,le,B,P,ce;A<$.length&&!P;){var pn=$[A],xr=$[A+1];for(H=Fe=0;H<pn.length&&!P&&pn[H];)if(P=pn[H++].exec(M),P)for(le=0;le<xr.length;le++)ce=P[++Fe],B=xr[le],typeof B===u&&B.length>0?B.length===2?typeof B[1]==f?this[B[0]]=B[1].call(this,ce):this[B[0]]=B[1]:B.length===3?typeof B[1]===f&&!(B[1].exec&&B[1].test)?this[B[0]]=ce?B[1].call(this,ce,B[2]):s:this[B[0]]=ce?ce.replace(B[1],B[2]):s:B.length===4&&(this[B[0]]=ce?B[3].call(this,ce.replace(B[1],B[2])):s):this[B]=ce||s;A+=2}},gn=function(M,$){for(var A in $)if(typeof $[A]===u&&$[A].length>0){for(var H=0;H<$[A].length;H++)if(Tr($[A][H],M))return A===c?s:A}else if(Tr($[A],M))return A===c?s:A;return M},Qs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ir={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Cr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,w],[/opios[\/ ]+([\w\.]+)/i],[w,[m,Ut+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[m,Ut]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[m,"UC"+z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[m,"Smart Lenovo "+z]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+z],w],[/\bfocus\/([\w\.]+)/i],[w,[m,$t+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[m,Ut+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[m,Ut+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[m,"MIUI "+z]],[/fxios\/([-\w\.]+)/i],[w,[m,$t]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+z]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+z],w],[/samsungbrowser\/([\w\.]+)/i],[w,[m,Ft+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],w],[/metasr[\/ ]?([\d\.]+)/i],[w,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,w],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Sr],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[m,X+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,X+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[m,"Android "+z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[w,gn,Qs]],[/(webkit|khtml)\/([\w\.]+)/i],[m,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[m,$t+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,w],[/(cobalt)\/([\w\.]+)/i],[m,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[I,"amd64"]],[/(ia32(?=;))/i],[[I,Xe]],[/((?:i[346]|x)86)[;\)]/i],[[I,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[I,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[I,"armhf"]],[/windows (ce|mobile); ppc;/i],[[I,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[I,/ower/,a,Xe]],[/(sun4\w)[;\)]/i],[[I,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[I,Xe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,Ft],[l,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,Ft],[l,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,O],[l,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,O],[l,x]],[/(macintosh);/i],[d,[p,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,wr],[l,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,pr],[l,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,pr],[l,C]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,dn],[l,C]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,dn],[l,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[l,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[l,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[l,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,hr],[l,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,hr],[l,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,cn],[l,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,cn],[l,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[l,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[l,C]],[/(pixel c)\b/i],[d,[p,jt],[l,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,jt],[l,C]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,Jt],[l,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,Jt],[l,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[l,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,v],[l,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,v],[l,C]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[l,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,K],[l,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,W],[l,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,W],[l,C]],[/(nexus 9)/i],[d,[p,"HTC"],[l,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[l,C]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[l,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[l,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[l,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[l,C]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[l,x]],[/(surface duo)/i],[d,[p,un],[l,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[l,C]],[/(u304aa)/i],[d,[p,"AT&T"],[l,C]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[l,C]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[l,x]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[l,x]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[l,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[l,x]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[l,x]],[/\b(k88) b/i],[d,[p,"ZTE"],[l,x]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[l,C]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[l,C]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[l,x]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[l,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[l,x]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[l,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[l,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[l,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[l,C]],[/\b(ph-1) /i],[d,[p,"Essential"],[l,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[l,x]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[l,x]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[l,x]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[l,x]],[/(sprint) (\w+)/i],[p,d,[l,C]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,un],[l,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,mn],[l,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,mn],[l,C]],[/smart-tv.+(samsung)/i],[p,[l,D]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,Ft],[l,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,cn],[l,D]],[/(apple) ?tv/i],[p,[d,O+" TV"],[l,D]],[/crkey/i],[[d,X+"cast"],[p,jt],[l,D]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,v],[l,D]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,wr],[l,D]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,Jt],[l,D]],[/(mitv-\w{5}) bui/i],[d,[p,dn],[l,D]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[l,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,fn],[d,fn],[l,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[l,y]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[l,y]],[/(playstation [345portablevi]+)/i],[d,[p,Jt],[l,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,un],[l,y]],[/((pebble))app/i],[p,d,[l,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,O],[l,k]],[/droid.+; (glass) \d/i],[d,[p,jt],[l,k]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,mn],[l,k]],[/(quest( 2| pro)?)/i],[d,[p,Sr],[l,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,N]],[/(aeobc)\b/i],[d,[p,v],[l,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[l,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[l,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,C]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[m,ze+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[w,gn,Ir]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,gn,Ir],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Er],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,w],[/\(bb(10);/i],[w,[m,K]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[m,$t+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[m,X+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,br],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,w],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,w]]},ne=function(M,$){if(typeof M===u&&($=M,M=s),!(this instanceof ne))return new ne(M,$).getResult();var A=typeof t!==o&&t.navigator?t.navigator:s,H=M||(A&&A.userAgent?A.userAgent:a),Fe=A&&A.userAgentData?A.userAgentData:s,le=$?Ys(Cr,$):Cr,B=A&&A.userAgent==H;return this.getBrowser=function(){var P={};return P[m]=s,P[w]=s,et.call(P,H,le.browser),P[g]=Zs(P[w]),B&&A&&A.brave&&typeof A.brave.isBrave==f&&(P[m]="Brave"),P},this.getCPU=function(){var P={};return P[I]=s,et.call(P,H,le.cpu),P},this.getDevice=function(){var P={};return P[p]=s,P[d]=s,P[l]=s,et.call(P,H,le.device),B&&!P[l]&&Fe&&Fe.mobile&&(P[l]=C),B&&P[d]=="Macintosh"&&A&&typeof A.standalone!==o&&A.maxTouchPoints&&A.maxTouchPoints>2&&(P[d]="iPad",P[l]=x),P},this.getEngine=function(){var P={};return P[m]=s,P[w]=s,et.call(P,H,le.engine),P},this.getOS=function(){var P={};return P[m]=s,P[w]=s,et.call(P,H,le.os),B&&!P[m]&&Fe&&Fe.platform!="Unknown"&&(P[m]=Fe.platform.replace(/chrome os/i,br).replace(/macos/i,Er)),P},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return H},this.setUA=function(P){return H=typeof P===h&&P.length>R?fn(P,R):P,this},this.setUA(H),this};ne.VERSION=i,ne.BROWSER=Ht([m,w,g]),ne.CPU=Ht([I]),ne.DEVICE=Ht([d,p,l,y,C,D,x,k,N]),ne.ENGINE=ne.OS=Ht([m,w]),n.exports&&(e=n.exports=ne),e.UAParser=ne;var Ve=typeof t!==o&&(t.jQuery||t.Zepto);if(Ve&&!Ve.ua){var qt=new ne;Ve.ua=qt.getResult(),Ve.ua.get=function(){return qt.getUA()},Ve.ua.set=function(M){qt.setUA(M);var $=qt.getResult();for(var A in $)Ve.ua[A]=$[A]}}})(typeof window=="object"?window:Pl)})(At,At.exports)),At.exports}var Al=Ol();const Rl=ws(Al),kn=52,kl=1.2,Nn=1,nt=212;function Nl(){const[n,e]=E.useState(!document.hidden),t=()=>{e(!document.hidden)};return E.useEffect(()=>(document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}),[]),n}function Dl(){const n=Ri(),{t:e}=Q(),{goToNextStep:t}=oe(),s=Nl(),{sessionUUID:i,isLoadingUUID:a,publicKey:c,resetScantastic:f,expirationTimestamp:o,setExpirationTimestamp:u}=Ws(),h=E.useMemo(()=>{const w=new Rl(window.navigator.userAgent),{device:{vendor:I,model:y},browser:{name:C}}=w.getResult();if(!c||!i)return"";try{const x=Hs.parse({uuid:i,publicKey:c,vendor:I,browser:C,model:y});return tl(x)}catch(x){const D=new Error("Failed to build scantastic params",{cause:x});return Y.error(D,{tags:{file:"ScanToOnboard.tsx",function:"useMemo"}}),""}},[c,i]),g=!a&&!h,d=E.useCallback(async()=>{if(i)try{const w=await fetch(`${je.scantasticApiUrl}/otp-state/${i}`,{method:"POST",headers:{Accept:"application/json"}});if(!w.ok)throw new Error(`Failed to check OTP state: ${await w.text()}`);const I=await w.json(),y=I.otp;if(!y)throw new Error("Scantastic OTP check response did not include the requested OTP state");u(I.expiresAtInSeconds*kt),y==="ready"&&t(),y==="expired"&&f()}catch(w){Y.error(w,{tags:{file:"ScanToOnboard.tsx",function:"checkOTPState"},extra:{uuid:i}})}},[i,u,t,f]);E.useEffect(()=>{let w;return s&&(w=setInterval(d,kt)),()=>clearInterval(w)},[d,s]),Hn(f,o-Date.now());const m=ca(Nn);E.useEffect(()=>{if(!a){m.value=Nn;return}const w={mass:1,stiffness:80,damping:20};return m.value=cl(ua(Fr(kl,w),Fr(Nn,w)),0,!0),()=>da(m)},[a]);const l=ma(()=>({transform:`scale(${m.value})`}),[m]),p=E.useMemo(()=>r.jsx(Ue,{belowFrameContent:g?r.jsx(T,{centered:!0,width:"100%",children:r.jsx(Lt,{borderRadius:"$rounded20",zIndex:Bn.fixed,onPress:()=>Z(`/${V.Onboarding}/${L.Import}`),children:r.jsx(T,{alignContent:"center",alignItems:"center",backgroundColor:"$surface1",borderColor:"$surface3",borderRadius:"$roundedFull",borderWidth:"$spacing1",my:"$spacing12",shadowColor:"$shadowColor",shadowOpacity:.4,shadowRadius:"$spacing4",pr:"$spacing16",pl:"$spacing20",py:"$spacing12",children:r.jsxs(T,{row:!0,centered:!0,gap:"$spacing8",justifyContent:"space-between",children:[r.jsx(Es,{color:"$accent1",size:"$icon.36"}),r.jsxs(T,{shrink:!0,flexWrap:"wrap",children:[r.jsx(_,{color:"$neutral2",variant:"body3",children:e("onboarding.scan.troubleScanning.title")}),r.jsx(_,{color:"$accent1",variant:"buttonLabel2",children:e("onboarding.scan.troubleScanning.message")})]}),r.jsx(bs,{color:"$neutral3",direction:"end",height:q.icon24,width:q.icon24})]})})})}):void 0,Icon:r.jsx(qe,{backgroundColor:"$surface2",borderRadius:"$rounded12",height:q.icon48,width:q.icon48,children:r.jsx(As,{color:"$neutral1",size:"$icon.24"})}),subtitle:e("onboarding.scan.subtitle"),title:e("onboarding.scan.title"),onBack:()=>Z(`/${V.Onboarding}`,{replace:!0}),children:r.jsxs(T,{alignItems:"center",width:"100%",children:[r.jsx(T,{alignContent:"center",alignItems:"center",backgroundColor:n.white.val,borderColor:"$surface3",borderRadius:"$rounded16",borderWidth:"$spacing1",my:"$spacing24",p:"$spacing16",position:"relative",shadowColor:"$shadowColor",shadowOpacity:.4,shadowRadius:"$spacing4",children:g?r.jsx(T,{px:"$spacing16",height:nt,width:nt,children:r.jsx(_,{color:"$neutral2",m:"auto",textAlign:"center",variant:"body3",children:e("onboarding.scan.error")})}):r.jsxs(r.Fragment,{children:[r.jsx(Wa,{alignItems:"center",backgroundColor:a?"$transparent":"$surface1",borderRadius:"$rounded12",height:kn,justifyContent:"center",position:"absolute",style:l,top:`calc(50% - ${kn/2}px)`,width:kn,zIndex:Bn.default,children:r.jsx(nn,{height:q.icon40,source:rs,width:q.icon40})}),a?r.jsx(nn,{height:nt,source:ki,width:nt}):r.jsx(T,{animateOnly:["opacity"],animation:"lazy",enterStyle:{opacity:0},children:r.jsx(vl,{bgColor:"transparent",fgColor:n.black.val,size:nt,value:h})})]})}),r.jsxs(T,{fill:!0,row:!0,alignItems:"center",backgroundColor:"$surface2",borderRadius:"$rounded12",gap:"$spacing8",p:"$spacing12",width:"100%",children:[r.jsx(fa,{size:"$icon.20"}),r.jsx(_,{color:"$neutral2",variant:"body4",children:e("onboarding.scan.wifi")})]})]})}),[n.black.val,n.white.val,g,a,l,h,e]);return r.jsx(te,{logImpression:!0,properties:{flow:G.Scantastic},screen:ae.OnboardingQRCode,children:p})}const Ml=Us(),_l={path:"",element:r.jsx(Fs,{})},Ll=[{path:"",element:r.jsx(Wo,{})},{path:L.UnsupportedBrowser,element:r.jsx(Fs,{})},{path:L.Create,element:r.jsx(Ze,{steps:{[En.ClaimUnitag]:r.jsx(Za,{}),[En.Password]:r.jsx(lo,{}),[En.Complete]:r.jsx(Rt,{tryToClaimUnitag:!0,flow:G.New})}},L.Create)},{path:L.SelectImportMethod,element:r.jsx(Ze,{steps:{[Ca.SelectMethod]:r.jsx(Ro,{})}},L.SelectImportMethod)},{path:L.ImportPasskey,element:r.jsx(Ze,{ContainerComponent:So,steps:{[Pr.InitiatePasskeyAuth]:r.jsx(xo,{}),[Pr.PasskeyImport]:r.jsx(Ao,{}),[We.Password]:r.jsx(tn,{flow:G.Passkey}),[We.Select]:r.jsx(en,{flow:G.Passkey}),[We.Complete]:r.jsx(Rt,{flow:G.Passkey})}},L.ImportPasskey)},{path:L.Import,element:r.jsx(Ze,{steps:{[We.Mnemonic]:r.jsx(Lr,{}),[We.Password]:r.jsx(tn,{flow:G.Import}),[We.Select]:r.jsx(en,{flow:G.Import}),[We.Complete]:r.jsx(Rt,{flow:G.Import})}},L.Import)},{path:L.Scan,element:r.jsx(es,{},L.Scan)},{path:L.ResetScan,element:r.jsx(es,{isResetting:!0},L.ResetScan)},{path:L.Reset,element:r.jsx(Ze,{isResetting:!0,steps:{[Gt.Mnemonic]:r.jsx(Lr,{}),[Gt.Password]:r.jsx(tn,{flow:G.Import}),[Gt.Select]:r.jsx(en,{flow:G.Import}),[Gt.Complete]:r.jsx(Js,{})}},L.Reset)}],gr=Ni([{path:`/${V.Onboarding}`,element:r.jsx(Qo,{}),errorElement:r.jsx(Di,{}),children:Ml?Ll:[_l]}]);function es({isResetting:n=!1}){return r.jsx(Ze,{ContainerComponent:il,isResetting:n,steps:{[tt.Scan]:r.jsx(Dl,{}),[tt.OTP]:r.jsx(ll,{}),[tt.Password]:r.jsx(tn,{allowBack:!1,flow:G.Scantastic}),[tt.Select]:r.jsx(en,{flow:G.Scantastic}),[tt.Complete]:n?r.jsx(Js,{}):r.jsx(Rt,{flow:G.Scantastic})}})}gr.subscribe(n=>{Mi(n)});Ui(gr);function Bl(){return E.useEffect(()=>{async function n(){await ji(),ts(ns.OnboardingLoad)}n().catch(()=>{})},[]),r.jsx(ga,{persistor:_i(),children:r.jsx(Li,{appName:Bi.Onboarding,children:r.jsx(pa,{children:r.jsxs(ha,{children:[r.jsx(wa,{}),r.jsx($i,{router:gr})]})})})})}globalThis.regeneratorRuntime=void 0;function $l(){function n(){const e=document.getElementById("onboarding-root");Fi.createRoot(e).render(r.jsx(Ji.StrictMode,{children:r.jsx(Bl,{})}))}Sa.init(ba.Tab),n()}$l();
